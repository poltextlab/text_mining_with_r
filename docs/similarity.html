<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>10 Sz√∂veg√∂sszehasonl√≠t√°s | Sz√∂vegb√°ny√°szat √©s mesters√©ges intelligencia R-ben</title>
  <meta name="description" content="10 Sz√∂veg√∂sszehasonl√≠t√°s | Sz√∂vegb√°ny√°szat √©s mesters√©ges intelligencia R-ben" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="10 Sz√∂veg√∂sszehasonl√≠t√°s | Sz√∂vegb√°ny√°szat √©s mesters√©ges intelligencia R-ben" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="10 Sz√∂veg√∂sszehasonl√≠t√°s | Sz√∂vegb√°ny√°szat √©s mesters√©ges intelligencia R-ben" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="10 Sz√∂veg√∂sszehasonl√≠t√°s | Sz√∂vegb√°ny√°szat √©s mesters√©ges intelligencia R-ben" />
  
  <meta name="twitter:description" content="10 Sz√∂veg√∂sszehasonl√≠t√°s | Sz√∂vegb√°ny√°szat √©s mesters√©ges intelligencia R-ben" />
  

<meta name="author" content="Seb≈ëk Mikl√≥s, Ring Orsolya, M√°t√© √Åkos" />


<meta name="date" content="2021-01-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="scaling.html"/>
<link rel="next" href="nlp-ch.html"/>
<script src="libs/header-attrs-2.7.10/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="konyv_style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Sz√∂vegb√°ny√°szat R-ben</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>√údv√∂z√∂lj√ºk!</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Bevezet√©s</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#a-k√∂tet-t√©m√°i"><i class="fa fa-check"></i><b>1.1</b> A k√∂tet t√©m√°i</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#haszn√°lati-utas√≠t√°s"><i class="fa fa-check"></i><b>1.2</b> Haszn√°lati utas√≠t√°s</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#a-hunminer-haszn√°lata"><i class="fa fa-check"></i><b>1.3</b> A HunMineR haszn√°lata</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#k√∂sz√∂netnyilv√°n√≠t√°s"><i class="fa fa-check"></i><b>1.4</b> K√∂sz√∂netnyilv√°n√≠t√°s</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="alapfogalmak.html"><a href="alapfogalmak.html"><i class="fa fa-check"></i><b>2</b> Alapfogalmak</a>
<ul>
<li class="chapter" data-level="2.1" data-path="alapfogalmak.html"><a href="alapfogalmak.html#elm√©leti-alapok"><i class="fa fa-check"></i><b>2.1</b> Elm√©leti alapok</a></li>
<li class="chapter" data-level="2.2" data-path="alapfogalmak.html"><a href="alapfogalmak.html#fogalmi-alapok"><i class="fa fa-check"></i><b>2.2</b> Fogalmi alapok</a></li>
<li class="chapter" data-level="2.3" data-path="alapfogalmak.html"><a href="alapfogalmak.html#a-sz√∂vegb√°ny√°szat-alapelvei"><i class="fa fa-check"></i><b>2.3</b> A sz√∂vegb√°ny√°szat alapelvei</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="adatkezeles.html"><a href="adatkezeles.html"><i class="fa fa-check"></i><b>3</b> Az adatkezel√©s R-ben</a>
<ul>
<li class="chapter" data-level="3.1" data-path="adatkezeles.html"><a href="adatkezeles.html#adatok-import√°l√°sa"><i class="fa fa-check"></i><b>3.1</b> Adatok import√°l√°sa</a></li>
<li class="chapter" data-level="3.2" data-path="adatkezeles.html"><a href="adatkezeles.html#adatok-export√°l√°sa"><i class="fa fa-check"></i><b>3.2</b> Adatok export√°l√°sa</a></li>
<li class="chapter" data-level="3.3" data-path="adatkezeles.html"><a href="adatkezeles.html#a-pipe-oper√°tor"><i class="fa fa-check"></i><b>3.3</b> A pipe oper√°tor</a></li>
<li class="chapter" data-level="3.4" data-path="adatkezeles.html"><a href="adatkezeles.html#m≈±veletek-adatt√°bl√°kkal"><i class="fa fa-check"></i><b>3.4</b> M≈±veletek adatt√°bl√°kkal</a></li>
<li class="chapter" data-level="3.5" data-path="adatkezeles.html"><a href="adatkezeles.html#munka-karakter-vektorokkaladatkezel-4"><i class="fa fa-check"></i><b>3.5</b> Munka karakter vektorokkal</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="corpus-ch.html"><a href="corpus-ch.html"><i class="fa fa-check"></i><b>4</b> Korpusz√©p√≠t√©s √©s sz√∂vegel≈ëk√©sz√≠t√©s</a>
<ul>
<li class="chapter" data-level="4.1" data-path="corpus-ch.html"><a href="corpus-ch.html#sz√∂vegbeszerz√©s"><i class="fa fa-check"></i><b>4.1</b> Sz√∂vegbeszerz√©s</a></li>
<li class="chapter" data-level="4.2" data-path="corpus-ch.html"><a href="corpus-ch.html#sz√∂vegel≈ëk√©sz√≠t√©s"><i class="fa fa-check"></i><b>4.2</b> Sz√∂vegel≈ëk√©sz√≠t√©s</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="corpus-ch.html"><a href="corpus-ch.html#tokeniz√°l√°s-sz√≥t√∂vez√©s-kisbet≈±s√≠t√©s-√©s-a-tilt√≥list√°s-szavak-elt√°vol√≠t√°sa"><i class="fa fa-check"></i><b>4.2.1</b> Tokeniz√°l√°s, sz√≥t√∂vez√©s, kisbet≈±s√≠t√©s √©s a tilt√≥list√°s szavak elt√°vol√≠t√°sa</a></li>
<li class="chapter" data-level="4.2.2" data-path="corpus-ch.html"><a href="corpus-ch.html#dokumentum-kifejez√©s-m√°trix-dtm"><i class="fa fa-check"></i><b>4.2.2</b> Dokumentum kifejez√©s m√°trix (DTM)</a></li>
<li class="chapter" data-level="4.2.3" data-path="corpus-ch.html"><a href="corpus-ch.html#s√∫lyoz√°s"><i class="fa fa-check"></i><b>4.2.3</b> S√∫lyoz√°s</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="leiro-stat.html"><a href="leiro-stat.html"><i class="fa fa-check"></i><b>5</b> Le√≠r√≥ statisztika</a>
<ul>
<li class="chapter" data-level="5.1" data-path="leiro-stat.html"><a href="leiro-stat.html#a-sz√∂vegek-a-vektort√©rben"><i class="fa fa-check"></i><b>5.1</b> A sz√∂vegek a vektort√©rben</a></li>
<li class="chapter" data-level="5.2" data-path="leiro-stat.html"><a href="leiro-stat.html#le√≠r√≥-statisztika"><i class="fa fa-check"></i><b>5.2</b> Le√≠r√≥ statisztika</a></li>
<li class="chapter" data-level="5.3" data-path="leiro-stat.html"><a href="leiro-stat.html#a-sz√∂vegek-lexikai-diverzit√°sa"><i class="fa fa-check"></i><b>5.3</b> A sz√∂vegek lexikai diverzit√°sa</a></li>
<li class="chapter" data-level="5.4" data-path="leiro-stat.html"><a href="leiro-stat.html#√∂sszehasonl√≠t√°sleiro-5"><i class="fa fa-check"></i><b>5.4</b> √ñsszehasonl√≠t√°s</a></li>
<li class="chapter" data-level="5.5" data-path="leiro-stat.html"><a href="leiro-stat.html#kulcsszavak-kontextusa"><i class="fa fa-check"></i><b>5.5</b> Kulcsszavak kontextusa</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="sentiment.html"><a href="sentiment.html"><i class="fa fa-check"></i><b>6</b> Sz√≥t√°rak √©s √©rzelemelemz√©s</a>
<ul>
<li class="chapter" data-level="6.1" data-path="sentiment.html"><a href="sentiment.html#sz√≥t√°rak-az-r-ben"><i class="fa fa-check"></i><b>6.1</b> Sz√≥t√°rak az R-ben</a></li>
<li class="chapter" data-level="6.2" data-path="sentiment.html"><a href="sentiment.html#magyar-nemzet-elemz√©se"><i class="fa fa-check"></i><b>6.2</b> <em>Magyar Nemzet</em> elemz√©se</a></li>
<li class="chapter" data-level="6.3" data-path="sentiment.html"><a href="sentiment.html#mnb-sajt√≥k√∂zlem√©nyek"><i class="fa fa-check"></i><b>6.3</b> MNB sajt√≥k√∂zlem√©nyek</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="lda-ch.html"><a href="lda-ch.html"><i class="fa fa-check"></i><b>7</b> Fel√ºgyelet n√©lk√ºli tanul√°s</a>
<ul>
<li class="chapter" data-level="7.1" data-path="lda-ch.html"><a href="lda-ch.html#k-k√∂z√©p-klaszterez√©s"><i class="fa fa-check"></i><b>7.1</b> K-k√∂z√©p klaszterez√©s</a></li>
<li class="chapter" data-level="7.2" data-path="lda-ch.html"><a href="lda-ch.html#lda-topik-modelleklda1"><i class="fa fa-check"></i><b>7.2</b> LDA topik modellek</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="lda-ch.html"><a href="lda-ch.html#a-vem-m√≥dszer-alkalmaz√°sa-a-magyar-t√∂rv√©nyek-korpusz√°n"><i class="fa fa-check"></i><b>7.2.1</b> A VEM m√≥dszer alkalmaz√°sa a magyar t√∂rv√©nyek korpusz√°n</a></li>
<li class="chapter" data-level="7.2.2" data-path="lda-ch.html"><a href="lda-ch.html#az-lda-gibbs-m√≥dszer-alkalmaz√°sa-a-magyar-t√∂rv√©nyek-korpusz√°n"><i class="fa fa-check"></i><b>7.2.2</b> Az LDA Gibbs m√≥dszer alkalmaz√°sa a magyar t√∂rv√©nyek korpusz√°n</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="lda-ch.html"><a href="lda-ch.html#struktur√°lis-topik-modellek"><i class="fa fa-check"></i><b>7.3</b> Struktur√°lis topik modellek</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="embedding.html"><a href="embedding.html"><i class="fa fa-check"></i><b>8</b> Sz√≥be√°gyaz√°sok</a>
<ul>
<li class="chapter" data-level="8.1" data-path="embedding.html"><a href="embedding.html#a-sz√≥be√°gyaz√°s-c√©lja"><i class="fa fa-check"></i><b>8.1</b> A sz√≥be√°gyaz√°s c√©lja</a></li>
<li class="chapter" data-level="8.2" data-path="embedding.html"><a href="embedding.html#word2vec-√©s-glove"><i class="fa fa-check"></i><b>8.2</b> Word2Vec √©s GloVe</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="embedding.html"><a href="embedding.html#glove-haszn√°lata-magyar-m√©dia-korpuszon"><i class="fa fa-check"></i><b>8.2.1</b> GloVe haszn√°lata magyar m√©dia korpuszon</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="scaling.html"><a href="scaling.html"><i class="fa fa-check"></i><b>9</b> Sz√∂vegsk√°l√°z√°s</a>
<ul>
<li class="chapter" data-level="9.1" data-path="scaling.html"><a href="scaling.html#√°ttekint√©s"><i class="fa fa-check"></i><b>9.1</b> √Åttekint√©s</a></li>
<li class="chapter" data-level="9.2" data-path="scaling.html"><a href="scaling.html#wordfish"><i class="fa fa-check"></i><b>9.2</b> Wordfish</a></li>
<li class="chapter" data-level="9.3" data-path="scaling.html"><a href="scaling.html#wordscores"><i class="fa fa-check"></i><b>9.3</b> Wordscores</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="similarity.html"><a href="similarity.html"><i class="fa fa-check"></i><b>10</b> Sz√∂veg√∂sszehasonl√≠t√°s</a>
<ul>
<li class="chapter" data-level="10.1" data-path="similarity.html"><a href="similarity.html#a-sz√∂veg√∂sszehasonl√≠t√°s-k√ºl√∂nb√∂z≈ë-megk√∂zel√≠t√©sei"><i class="fa fa-check"></i><b>10.1</b> A sz√∂veg√∂sszehasonl√≠t√°s k√ºl√∂nb√∂z≈ë megk√∂zel√≠t√©sei</a></li>
<li class="chapter" data-level="10.2" data-path="similarity.html"><a href="similarity.html#lexik√°lis-hasonl√≥s√°g"><i class="fa fa-check"></i><b>10.2</b> Lexik√°lis hasonl√≥s√°g</a></li>
<li class="chapter" data-level="10.3" data-path="similarity.html"><a href="similarity.html#szemantikai-hasonl√≥s√°g"><i class="fa fa-check"></i><b>10.3</b> Szemantikai hasonl√≥s√°g</a></li>
<li class="chapter" data-level="10.4" data-path="similarity.html"><a href="similarity.html#hasonl√≥s√°g-sz√°m√≠t√°s"><i class="fa fa-check"></i><b>10.4</b> Hasonl√≥s√°g-sz√°m√≠t√°s</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="similarity.html"><a href="similarity.html#adatb√°zis-import√°l√°s-√©s-el≈ëk√©sz√≠t√©s"><i class="fa fa-check"></i><b>10.4.1</b> Adatb√°zis import√°l√°s √©s el≈ëk√©sz√≠t√©s</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="similarity.html"><a href="similarity.html#sz√∂vegtiszt√≠t√°s"><i class="fa fa-check"></i><b>10.5</b> Sz√∂vegtiszt√≠t√°s</a></li>
<li class="chapter" data-level="10.6" data-path="similarity.html"><a href="similarity.html#a-jaccard-hasonl√≥s√°g-sz√°m√≠t√°s"><i class="fa fa-check"></i><b>10.6</b> A Jaccard hasonl√≥s√°g sz√°m√≠t√°s</a></li>
<li class="chapter" data-level="10.7" data-path="similarity.html"><a href="similarity.html#a-koszinusz-hasonl√≥s√°g-sz√°m√≠t√°s"><i class="fa fa-check"></i><b>10.7</b> A Koszinusz hasonl√≥s√°g sz√°m√≠t√°s</a></li>
<li class="chapter" data-level="10.8" data-path="similarity.html"><a href="similarity.html#az-eredm√©nyek-vizualiz√°ci√≥ja"><i class="fa fa-check"></i><b>10.8</b> Az eredm√©nyek vizualiz√°ci√≥ja</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="nlp-ch.html"><a href="nlp-ch.html"><i class="fa fa-check"></i><b>11</b> NLP √©s n√©velemfelismer√©s</a>
<ul>
<li class="chapter" data-level="11.1" data-path="nlp-ch.html"><a href="nlp-ch.html#a-magyarlanc"><i class="fa fa-check"></i><b>11.1</b> A <code>magyarlanc</code></a></li>
<li class="chapter" data-level="11.2" data-path="nlp-ch.html"><a href="nlp-ch.html#a-szeged-ner"><i class="fa fa-check"></i><b>11.2</b> A <code>szeged ner</code></a></li>
<li class="chapter" data-level="11.3" data-path="nlp-ch.html"><a href="nlp-ch.html#angol-nyelv≈±-sz√∂vegek-n√©velemfelismer√©se"><i class="fa fa-check"></i><b>11.3</b> Angol nyelv≈± sz√∂vegek n√©velemfelismer√©se</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="oszt√°lyoz√°s-√©s-fel√ºgyelt-tanul√°s.html"><a href="oszt√°lyoz√°s-√©s-fel√ºgyelt-tanul√°s.html"><i class="fa fa-check"></i><b>12</b> Oszt√°lyoz√°s √©s fel√ºgyelt tanul√°s</a>
<ul>
<li class="chapter" data-level="12.1" data-path="oszt√°lyoz√°s-√©s-fel√ºgyelt-tanul√°s.html"><a href="oszt√°lyoz√°s-√©s-fel√ºgyelt-tanul√°s.html#fogalmi-alapok-1"><i class="fa fa-check"></i><b>12.1</b> Fogalmi alapok</a></li>
<li class="chapter" data-level="12.2" data-path="oszt√°lyoz√°s-√©s-fel√ºgyelt-tanul√°s.html"><a href="oszt√°lyoz√°s-√©s-fel√ºgyelt-tanul√°s.html#oszt√°lyoz√°s-fel√ºgyelt-tanul√°ssal"><i class="fa fa-check"></i><b>12.2</b> Oszt√°lyoz√°s fel√ºgyelt tanul√°ssal</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="f√ºggel√©k.html"><a href="f√ºggel√©k.html"><i class="fa fa-check"></i><b>13</b> F√ºggel√©k</a>
<ul>
<li class="chapter" data-level="13.1" data-path="f√ºggel√©k.html"><a href="f√ºggel√©k.html#az-r-√©s-az-rstudio-haszn√°lata"><i class="fa fa-check"></i><b>13.1</b> Az R √©s az RStudio haszn√°lata</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="f√ºggel√©k.html"><a href="f√ºggel√©k.html#az-rstudio-kezd≈ëfel√ºlete"><i class="fa fa-check"></i><b>13.1.1</b> Az RStudio kezd≈ëfel√ºlete</a></li>
<li class="chapter" data-level="13.1.2" data-path="f√ºggel√©k.html"><a href="f√ºggel√©k.html#projektmunka"><i class="fa fa-check"></i><b>13.1.2</b> Projekt alap√∫ munka</a></li>
<li class="chapter" data-level="13.1.3" data-path="f√ºggel√©k.html"><a href="f√ºggel√©k.html#scriptek-szerkeszt√©se-f√ºggv√©nyek-haszn√°lata"><i class="fa fa-check"></i><b>13.1.3</b> Scriptek szerkeszt√©se, f√ºggv√©nyek haszn√°lata</a></li>
<li class="chapter" data-level="13.1.4" data-path="f√ºggel√©k.html"><a href="f√ºggel√©k.html#packages"><i class="fa fa-check"></i><b>13.1.4</b> R csomagok</a></li>
<li class="chapter" data-level="13.1.5" data-path="f√ºggel√©k.html"><a href="f√ºggel√©k.html#objektumok-t√°rol√°sa-√©rt√©kad√°s"><i class="fa fa-check"></i><b>13.1.5</b> Objektumok t√°rol√°sa, √©rt√©kad√°s</a></li>
<li class="chapter" data-level="13.1.6" data-path="f√ºggel√©k.html"><a href="f√ºggel√©k.html#vektorok"><i class="fa fa-check"></i><b>13.1.6</b> Vektorok</a></li>
<li class="chapter" data-level="13.1.7" data-path="f√ºggel√©k.html"><a href="f√ºggel√©k.html#faktorok"><i class="fa fa-check"></i><b>13.1.7</b> Faktorok</a></li>
<li class="chapter" data-level="13.1.8" data-path="f√ºggel√©k.html"><a href="f√ºggel√©k.html#data-frame"><i class="fa fa-check"></i><b>13.1.8</b> Data frame</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="f√ºggel√©k.html"><a href="f√ºggel√©k.html#vizualiz√°ci√≥"><i class="fa fa-check"></i><b>13.2</b> Vizualiz√°ci√≥</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="irodalomjegyz√©k.html"><a href="irodalomjegyz√©k.html"><i class="fa fa-check"></i>Irodalomjegyz√©k</a></li>
<li class="divider"></li>
<li><a href="https://github.com/poltextlab/text_mining_with_r" target="blank">Forr√°sk√≥d a k√∂nyvh√∂z</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Sz√∂vegb√°ny√°szat √©s mesters√©ges intelligencia R-ben</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="similarity" class="section level1" number="10">
<h1><span class="header-section-number">10</span> Sz√∂veg√∂sszehasonl√≠t√°s</h1>
<div id="a-sz√∂veg√∂sszehasonl√≠t√°s-k√ºl√∂nb√∂z≈ë-megk√∂zel√≠t√©sei" class="section level2" number="10.1">
<h2><span class="header-section-number">10.1</span> A sz√∂veg√∂sszehasonl√≠t√°s k√ºl√∂nb√∂z≈ë megk√∂zel√≠t√©sei</h2>
<p>A g√©pi sz√∂veg√∂sszehasonl√≠t√°s a mindennapi √©let√ºnk sz√°mos ter√ºlet√©n megjelen≈ë sz√∂vegb√°ny√°szati technika, b√°r az emberek t√∂bbs√©g nincs ennek tudat√°ban. Ezen a m√≥dszeren alapulnak a b√∂ng√©sz≈ëk keres≈ë mechanizmusai, vagy a k√©rd√©s-felelet (Q&amp;A) f√≥rumok algoritmusai, melyek ellen≈ërzik, hogy szerepel-e m√°r a feltenni k√≠v√°nt k√©rd√©s a f√≥rumon <span class="citation">(<a href="irodalomjegyz√©k.html#ref-siegTextSimilaritiesEstimate2018" role="doc-biblioref">Sieg 2018</a>)</span>. Alkalmazz√°k tov√°bb√° a sz√∂veg√∂sszehasonl√≠t√°st a g√©pi sz√∂vegford√≠t√°sban √©s az automatikus k√©rd√©smegv√°laszol√°si feladatok eset√©n is <span class="citation">(<a href="irodalomjegyz√©k.html#ref-wangMeasurementTextSimilarity2020" role="doc-biblioref">Wang and Dong 2020</a>)</span>, de ak√°r automatiz√°lt essz√© √©rt√©kel√©sre vagy pl√°giumellen≈ërz√©sre is hasznos√≠that√≥ az elj√°r√°s <span class="citation">(<a href="irodalomjegyz√©k.html#ref-barReflectiveViewText2011" role="doc-biblioref">Bar, Zesch, and Gurevych 2011</a>)</span>.</p>
<p>A sz√∂veg√∂sszehasonl√≠t√°s h√©tk√∂znapi √©letben el≈ëfordul√≥ rejtett alkalmaz√°sain t√∫l a t√°rsadalomtudom√°nyok m≈±vel≈ëi is sz√°mos esetben hasznos√≠tj√°k az elj√°r√°st. A politikatudom√°ny ter√ºlet√©n t√∂bbek k√∂z√∂tt haszn√°lhatjuk arra, hogy eld√∂nts√ºk, mennyire k√ºl√∂nb√∂znek egym√°st√≥l a beny√∫jtott t√∂rv√©nyjavaslatok √©s az elfogadott t√∂rv√©nyek sz√∂vegei, ezzel fontos inform√°ci√≥hoz jutva arr√≥l, hogy milyen szerepe van a parlamenti vit√°nak a v√©gleges t√∂rv√©nyek kialak√≠t√°s√°ban. Egy m√°sik p√©lda a szakpolitikai priorit√°sokban √©s alapelvekben v√©gbemen≈ë v√°ltoz√°sok elemz√©se, melyet p√©ld√°ul szakpolitikai javaslatok vagy ilyen t√©m√°j√∫ vit√°k leiratainak elemz√©s√©vel is megtehet√ºnk.</p>
<p>A k√∂nyv kor√°bbi fejezeteiben bemutatott elj√°r√°sok k√∂z√∂tt sok olyat tal√°lunk, melyek alkalmasak arra, hogy a sz√∂vegek hasonl√≥s√°g√°b√≥l valamilyen inform√°ci√≥t nyerj√ºnk. Ugyanakkor vannak m√≥dszerek, melyek seg√≠ts√©g√©vel sz√°mszer≈±s√≠thetj√ºk a sz√∂vegek k√∂z√∂tti k√ºl√∂nbs√©geket. Ez a fejezet ezekr≈ël ny√∫jt r√∂vid √°ttekint√©st. Mindenekel≈ëtt azonban azt kell tiszt√°znunk, hogy mik√©nt √©rtelmezz√ºk a hasonl√≥s√°got. A hasonl√≥s√°gelemz√©seket jellemz≈ëen k√©t nagy kateg√≥ri√°ba szoktuk sorolni a m√©rni k√≠v√°nt hasonl√≥s√°g t√≠pusa szerint. Ez alapj√°n besz√©lhet√ºnk lexik√°lis (formai) √©s szemantikai hasonl√≥s√°gr√≥l.</p>
</div>
<div id="lexik√°lis-hasonl√≥s√°g" class="section level2" number="10.2">
<h2><span class="header-section-number">10.2</span> Lexik√°lis hasonl√≥s√°g</h2>
<p>A lexik√°lis hasonl√≥s√°g a g√©pi sz√∂vegfeldolgoz√°s egy egyszer≈±bb megk√∂zel√≠t√©se, amikor nem v√°rjuk el az elemz√©s√ºnkt≈ël, hogy ‚Äû√©rtse‚Äù a sz√∂veget, csup√°n a formai hasonl√≥s√°got figyelj√ºk. A megk√∂zel√≠t√©s el≈ënye, hogy sz√°m√≠t√°si szempontb√≥l jelent≈ësen egyszer≈±bb, mint a szemantikai hasonl√≥s√°gra ir√°nyul√≥ elemz√©sek, h√°tr√°nya azonban, hogy az egyszer≈±s√©g k√∂nnyen t√©v√∫tra vihet szofisztik√°ltabb elemz√©sek eset√©n, √≠gy p√©ld√°ul a lexik√°lis hasonl√≥s√°g szempontj√°b√≥l az al√°bbi k√©t p√©ldamondat azonosnak tekinthet≈ë, hiszen formailag (kifejez√©sek szintj√©n) megegyeznek.</p>
<ol style="list-style-type: decimal">
<li><p><em>‚ÄûA boszork√°ny megs√ºti Jancsit √©s Julisk√°t.‚Äù</em></p></li>
<li><p><em>‚ÄûJancsi √©s Juliska megs√ºti a boszork√°nyt.‚Äù</em></p></li>
</ol>
<p>K√©t dokumentum k√∂z√∂tti lexik√°lis hasonl√≥s√°got a sz√∂veg sz√°mos szintj√©n m√©rhetj√ºk: karakterl√°ncok (stringek), sz√≥alakok (tokenek), n-grammok (n egys√©gb≈ël √°ll√≥ karakterl√°ncok), sz√≥zs√°kok (bag of words) k√∂z√∂tt, de ak√°r a dokumentum nagyobb egys√©gei, √≠gy sz√∂vegr√©szletek √©s dokumentumok k√∂z√∂tt is. Bevett megk√∂zel√≠t√©s tov√°bb√° a sz√≥k√©szlet √∂sszehasonl√≠t√°sa, melyet lexik√°lis √©s szemantikai hasonl√≥s√°g felt√°r√°s√°ra egyar√°nt haszn√°lhatunk.</p>
<p>A hasonl√≥s√°g sz√°m√≠t√°s√°ra sz√°mos metrika l√©tezik. Ezek jelent≈ës r√©sze valamilyen t√°vols√°gsz√°m√≠t√°son alapul, mint p√©ld√°ul a koszinusz vagy a manhattan t√°vols√°gon alapul√≥ sz√∂veghasonl√≥s√°g. A koszinusz t√°vols√°g a k√©t sz√∂vegvektor (azaz sz√∂veg vektoriz√°lt form√°ja) √°ltal bez√°rt sz√∂gben hat√°rozza meg a dokumentumok t√°vols√°g√°t <span class="citation">(<a href="irodalomjegyz√©k.html#ref-wangMeasurementTextSimilarity2020" role="doc-biblioref">Wang and Dong 2020</a>)</span>, m√≠g a manhattan t√°vols√°g a horizont√°lis √©s a vertik√°lis t√°vols√°gok √∂sszegek√©nt sz√°m√≠tja azt <span class="citation">(<a href="irodalomjegyz√©k.html#ref-laddUnderstandingUsingCommon2020" role="doc-biblioref">Ladd 2020</a>)</span>. Sz√©les k√∂rben alkalmazott dokumentumhasonl√≥s√°gi metrika tov√°bb√° a Jaccard hasonl√≥s√°g, melynek sz√°m√≠t√°sa egy egyszer≈± elj√°r√°son alapul: a k√©t dokumentumban egyez≈ë szavak sz√°m√°t elosztja a k√©t dokumentumban szerepl≈ë szavak sz√°m√°nak uni√≥j√°val (vagyis az k√©t dokumentum szavai sz√°m√°nak √∂sszeg√©vel, melyb≈ël kivonja az egyez≈ë szavak sz√°m√°nak √∂sszeg√©t). A Jaccard hasonl√≥s√°g teh√°t azt k√©pes megmutatni, hogy a k√©t dokumentum teljes sz√≥sz√°m√°hoz k√©pest mekkora az azonos kifejez√©sek ar√°nya <span class="citation">(<a href="irodalomjegyz√©k.html#ref-wangMeasurementTextSimilarity2020" role="doc-biblioref">Wang and Dong 2020, 6</a>.)</span>.</p>
<p><span class="math display">\[
Jaccard(doc_{1}, doc_{2}) = \frac{doc_{1}\,\cap \, doc_{2}}{doc1 \, \cup \, doc2} = \frac{doc_{1} \, \cap \, doc_{2}}{doc_{1} + doc_{2} - doc_{1} \, \cap  \, doc_{2} }
\]</span></p>
</div>
<div id="szemantikai-hasonl√≥s√°g" class="section level2" number="10.3">
<h2><span class="header-section-number">10.3</span> Szemantikai hasonl√≥s√°g</h2>
<p>A szemantikai hasonl√≥s√°g a lexikai hasonl√≥s√°ggal szemben egy komplexebb sz√°m√≠t√°s, melynek sor√°n az algoritmus a szavak tartalm√°t is k√©pes elemezni. √çgy p√©ld√°ul formai szempontb√≥l hi√°ba nem azonos az al√°bbi k√©t p√©ldamondat, a szemantikai hasonl√≥s√°gvizsg√°latnak √©szlelnie kell a tartalmi azonoss√°got.</p>
<ol style="list-style-type: decimal">
<li><p><em>‚ÄûA di√°kok jegyzetelnek, am√≠g a professzor el≈ëad√°st tart.‚Äù</em></p></li>
<li><p><em>‚ÄûA nebul√≥k √≠rnak, amikor az oktat√≥ besz√©l.‚Äù</em></p></li>
</ol>
<p>A jelent√©sbeli hasonl√≥s√°g kimutat√°s√°ra sz√°mos megk√∂zel√≠t√©s l√©tezik. T√∂bbek k√∂z√∂tt alkalmazhat√≥ a t√©mamodellez√©s (topik modellez√©s), melyet a <a href="lda-ch.html#lda_ch">Fel√ºgyelet n√©lk√ºli tanul√°s</a> fejezetben t√°rgyaltunk b≈ëvebben, ezen bel√ºl pedig az LDA L√°tens Dirillecht Allok√°ci√≥ (<em>Latent Dirillecht Allocation</em>), valamint az LSA l√°tens √©rzelem elemz√©s (<em>Latent Sentiment Analysis</em>) is nagyszer≈± lehet≈ës√©get k√≠n√°l arra, hogy az egyes dokumentumainkat tartalmi hasonl√≥s√°gok alapj√°n csoportos√≠tsuk.</p>
<p>Az LSA-n√©l √©s az LDA-n√©l azonban egy fokkal komplexebb megk√∂zel√≠t√©s a sz√≥be√°gyaz√°s, melyet a <a href="embedding.html#embedding">Sz√≥be√°gyaz√°sok</a> c√≠m≈± fejezetben mutattunk be. Ez a m√≥dszertan a t√©mamodellez√©shez k√©pest a sz√∂veg m√©lyebb szemantikai tartalmait is k√©pes felt√°rni, hiszen a be√°gyaz√°snak k√∂sz√∂nhet≈ëen k√©pes formailag k√ºl√∂nb√∂z≈ë, de jelent√©s√ºkben azonos kifejez√©sek azonoss√°g√°t megmutatni. A jelent√©sbeli hasonl√≥s√°g meg√°llap√≠that√≥ a be√°gyaz√°s sor√°n l√©trehozott vektorreprezent√°ci√≥kb√≥l (eml√©kezz√ºnk: a hasonl√≥ vektorreprezent√°ci√≥ hasonl√≥ szemantikai tartalomra utal). Kimutathatjuk a szemantikai k√∂zels√©get p√©ld√°ul a kir√°ly ‚Äì f√©rfi ‚Äì lovag kifejez√©sek k√∂z√∂tt, de olyan mesters√©gesen l√©trehozott jelent√©sbeli azonoss√°gokat is felt√°rhatunk, mint az ir√°ny√≠t√≥sz√°mok √©s az √°ltaluk jel√∂lt v√°rosnevek kapcsolata. Abban az esetben, ha a sz√≥be√°gyaz√°st kimondottan a sz√∂veghasonl√≥s√°g meg√°llap√≠t√°s√°ra szeretn√©nk haszn√°lni, a WMD (<em>Word Mover‚Äôs Distance</em>) metrik√°t √©rdemes haszn√°lni, mely a vektort√©rben elhelyezked≈ë sz√≥vektorok k√∂z√∂tti t√°vols√°g √°ltal sz√°mszer≈±s√≠ti a sz√∂vegek hasonl√≥s√°g√°t <span class="citation">(<a href="irodalomjegyz√©k.html#ref-kusnerWordEmbeddingsDocument2015" role="doc-biblioref">Kusner et al. 2015</a>)</span>.</p>
</div>
<div id="hasonl√≥s√°g-sz√°m√≠t√°s" class="section level2" number="10.4">
<h2><span class="header-section-number">10.4</span> Hasonl√≥s√°g-sz√°m√≠t√°s</h2>
<div id="adatb√°zis-import√°l√°s-√©s-el≈ëk√©sz√≠t√©s" class="section level3" number="10.4.1">
<h3><span class="header-section-number">10.4.1</span> Adatb√°zis import√°l√°s √©s el≈ëk√©sz√≠t√©s</h3>
<p>A fejezet m√°sodik fel√©ben a lexikai hasonl√≥s√°g vizsg√°lat√°ra, ezen bel√ºl a Jaccard hasonl√≥s√°g √©s a Koszinusz hasonl√≥s√°g sz√°m√≠t√°s√°ra mutatunk be egy-egy p√©ld√°t a t√∂rv√©nyjavaslatok √©s az elfogadott t√∂rv√©nyek sz√∂vegeinek √∂sszehasonl√≠t√°s√°val. Az al√°bbiakban bemutatott elemz√©s a ‚ÄûViscosity Revisited: The Power of Legislatures in New and Old Democracies ‚Äì A Comparative Text Reuse Analysis‚Äù c√≠m≈±, megjelen√©s el≈ëtt √°ll√≥ tanulm√°nyb√≥l mer√≠ti elemz√©si f≈ëkusz√°t. Az eredeti cikk √°ltal megval√≥s√≠tott elemz√©st a sv√°jci korpusz elemz√©se n√©lk√ºl, a magyar korpusz egy r√©szhalmaz√°n replik√°ljuk az al√°bbiakban. A kutat√°si k√©rd√©s arra ir√°nyul, hogy mennyiben v√°ltozik meg a t√∂rv√©nyjavaslatok sz√∂vege a parlamenti vita folyam√°n, am√≠g a javaslat elfogad√°sra ker√ºl. Az elemz√©s sor√°n a k√ºl√∂nb√∂z≈ë korm√°nyzati ciklusok k√∂z√∂tti elt√©r√©sekre vil√°g√≠tunk r√°. Az elemz√©s megkezd√©se el≈ëtt a m√°r ismert m√≥don bet√∂ltj√ºk a sz√ºks√©ges csomagokat: <code>readr</code>, <code>stringr</code>, <code>dplyr</code>, <code>quanteda</code>, <code>readtext</code>, <code>ggplot2</code>.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="similarity.html#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb161-2"><a href="similarity.html#cb161-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb161-3"><a href="similarity.html#cb161-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb161-4"><a href="similarity.html#cb161-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb161-5"><a href="similarity.html#cb161-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb161-6"><a href="similarity.html#cb161-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readtext)</span>
<span id="cb161-7"><a href="similarity.html#cb161-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb161-8"><a href="similarity.html#cb161-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(nandb)</span>
<span id="cb161-9"><a href="similarity.html#cb161-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(HunMineR)</span></code></pre></div>
<p>Ezt k√∂vet≈ëen bet√∂ltj√ºk azokat az adatb√°zisokat, amelyeken a sz√∂veg√∂sszehasonl√≠t√°st fogjuk v√©gezni: az elfogadott t√∂rv√©nyek sz√∂veg√©t tartalmaz√≥ korpuszt, a t√∂rv√©nyjavaslatok sz√∂veg√©t tartalmaz√≥ korpuszt, valamint az ezek √∂sszekapcsol√°s√°t seg√≠t≈ë adatb√°zist, melyben az √∂sszetartoz√≥ t√∂rv√©nyjavaslatok √©s t√∂rv√©nyek azonos√≠t√≥j√°t (id-j√°t) t√°roltuk el. Ahogy beh√≠vjuk a h√°rom CSV-t, √©rdemes r√∂gt√∂n lek√©rni az oszlopneveket <code>colnames()</code> √©s a t√°bl√°zat dimenzi√≥it <code>dim()</code>, hogy l√°ssuk, milyen adatok √°llnak a rendelkez√©s√ºnkre, √©s mekkora t√°bl√°kkal fogunk dolgozni. A <code>dim()</code> f√ºggv√©ny els≈ë √©rt√©ke a sorok sz√°ma, a m√°sodik pedig az oszlopok sz√°ma lesz az adott t√°bl√°zatban.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="similarity.html#cb162-1" aria-hidden="true" tabindex="-1"></a>torvenyek <span class="ot">&lt;-</span> HunMineR<span class="sc">::</span>data_lawtext_sample</span>
<span id="cb162-2"><a href="similarity.html#cb162-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-3"><a href="similarity.html#cb162-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(torvenyek)</span>
<span id="cb162-4"><a href="similarity.html#cb162-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;tv_id&quot;          &quot;torveny_szoveg&quot; &quot;korm_ciklus&quot;    &quot;ev&quot;             &quot;korm_ell&quot;</span></span>
<span id="cb162-5"><a href="similarity.html#cb162-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-6"><a href="similarity.html#cb162-6" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(torvenyek)</span>
<span id="cb162-7"><a href="similarity.html#cb162-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 600   5</span></span></code></pre></div>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="similarity.html#cb163-1" aria-hidden="true" tabindex="-1"></a>tv_javaslatok <span class="ot">&lt;-</span> HunMineR<span class="sc">::</span>data_lawprop_sample</span>
<span id="cb163-2"><a href="similarity.html#cb163-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-3"><a href="similarity.html#cb163-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(tv_javaslatok)</span>
<span id="cb163-4"><a href="similarity.html#cb163-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;tvjav_id&quot;     &quot;tvjav_szoveg&quot;</span></span>
<span id="cb163-5"><a href="similarity.html#cb163-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-6"><a href="similarity.html#cb163-6" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(tv_javaslatok)</span>
<span id="cb163-7"><a href="similarity.html#cb163-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 600   2</span></span></code></pre></div>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="similarity.html#cb164-1" aria-hidden="true" tabindex="-1"></a>parok <span class="ot">&lt;-</span> HunMineR<span class="sc">::</span>data_lawsample_match</span>
<span id="cb164-2"><a href="similarity.html#cb164-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-3"><a href="similarity.html#cb164-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(parok)</span>
<span id="cb164-4"><a href="similarity.html#cb164-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;tv_id&quot;    &quot;tvjav_id&quot;</span></span>
<span id="cb164-5"><a href="similarity.html#cb164-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-6"><a href="similarity.html#cb164-6" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(parok)</span>
<span id="cb164-7"><a href="similarity.html#cb164-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 600   2</span></span></code></pre></div>
<p>A beimport√°lt adatb√°zisok megfigyel√©seinek sz√°ma egys√©gesen 600. Ez a t√∂bb mint h√°romezer megfigyel√©st tartalmaz√≥ eredeti korpusz egy r√©szhalmaza, mely gyorsabb √©s egyszer≈±bb elemz√©st tesz lehet≈ëv√©. Az oszlopnevek lek√©r√©s√©vel l√°thatjuk, hogy a t√∂rv√©ny korpuszban van n√©h√°ny metaadat, amelyet az elemz√©s sor√°n felhaszn√°lhatunk: ezek a korm√°nyzati ciklusra, t√∂rv√©ny elfogad√°s√°nak √©v√©re, valamint a beny√∫jt√≥ korm√°nyzati vagy ellenz√©ki p√°rt√°ll√°s√°ra vonatkoznak. Ezenk√≠v√ºl rendelkez√©sre √°llnak a t√∂rv√©nyeket √©s a t√∂rv√©nyjavaslatokat azonos√≠t√≥ k√≥dok (<code>tv_id</code> √©s <code>tvjav_id</code>), melyek seg√≠ts√©g√©vel majd tudjuk p√°ros√≠tani az √∂sszetartoz√≥ t√∂rv√©nyjavaslatok √©s t√∂rv√©nyek sz√∂vegeit. Ezt a <code>left_join()</code> f√ºggv√©nnyel tessz√ºnk meg. Els≈ëk√©nt a t√∂rv√©nyeket tartalmaz√≥ adatb√°zishoz kapcsoljuk hozz√° a t√∂rv√©ny‚Äìt√∂rv√©nyjavaslat p√°rokat tartalmaz√≥ adatb√°zist a t√∂rv√©nyek azonos√≠t√≥ja (<code>tv_id</code>) alapj√°n. A <code>colnames()</code> f√ºggv√©ny haszn√°lat√°val ellen≈ërizhetj√ºk, hogy sikeres volt-e a m≈±velet, √©s az √∫j t√°bl√°ban szerepelnek-e a k√≠v√°nt oszlopok.</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="similarity.html#cb165-1" aria-hidden="true" tabindex="-1"></a>tv_tvjavid_osszekapcs <span class="ot">&lt;-</span> <span class="fu">left_join</span>(torvenyek, parok, <span class="at">by =</span> <span class="st">&quot;tv_id&quot;</span>)</span>
<span id="cb165-2"><a href="similarity.html#cb165-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-3"><a href="similarity.html#cb165-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(tv_tvjavid_osszekapcs)</span>
<span id="cb165-4"><a href="similarity.html#cb165-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;tv_id&quot;          &quot;torveny_szoveg&quot; &quot;korm_ciklus&quot;    &quot;ev&quot;             &quot;korm_ell&quot;      </span></span>
<span id="cb165-5"><a href="similarity.html#cb165-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6] &quot;tvjav_id&quot;</span></span>
<span id="cb165-6"><a href="similarity.html#cb165-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-7"><a href="similarity.html#cb165-7" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(tv_tvjavid_osszekapcs)</span>
<span id="cb165-8"><a href="similarity.html#cb165-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 600   6</span></span></code></pre></div>
<p>M√°sodik l√©p√©sben a t√∂rv√©nyjavaslatokat tartalmaz√≥ adatb√°zist rendelj√ºk hozz√° az el≈ëz≈ëekben m√°r √∂sszekapcsolt k√©t adatb√°zishoz.</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="similarity.html#cb166-1" aria-hidden="true" tabindex="-1"></a>tv_tvjav_minta <span class="ot">&lt;-</span> <span class="fu">left_join</span>(tv_tvjavid_osszekapcs, tv_javaslatok, <span class="at">by =</span> <span class="st">&quot;tvjav_id&quot;</span>)</span>
<span id="cb166-2"><a href="similarity.html#cb166-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-3"><a href="similarity.html#cb166-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(tv_tvjav_minta)</span>
<span id="cb166-4"><a href="similarity.html#cb166-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;tv_id&quot;          &quot;torveny_szoveg&quot; &quot;korm_ciklus&quot;    &quot;ev&quot;             &quot;korm_ell&quot;      </span></span>
<span id="cb166-5"><a href="similarity.html#cb166-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6] &quot;tvjav_id&quot;       &quot;tvjav_szoveg&quot;</span></span>
<span id="cb166-6"><a href="similarity.html#cb166-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-7"><a href="similarity.html#cb166-7" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(tv_tvjav_minta)</span>
<span id="cb166-8"><a href="similarity.html#cb166-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 600   7</span></span></code></pre></div>
<p>Ha j√≥l v√©gezt√ºk a dolgunkat az adatb√°zisok √∂sszekapcsol√°sa sor√°n, az elj√°r√°s v√©g√©re 7 oszlopunk √©s 600 sorunk van, vagyis az √∫jonnan l√©trehozott adatb√°zisba beker√ºlt az √∂sszes v√°ltoz√≥ (oszlop). A korpuszaink egy adatt√°bl√°ban val√≥ kezel√©se az√©rt hasznos, mert √≠gy nem kell p√°rhuzamosan elv√©gezni az azonos m≈±veleteket a k√©t korpusz, a t√∂rv√©nyek √©s a t√∂rv√©nyjavaslatok tiszt√≠t√°s√°hoz, hanem p√°rhuzamosan tudunk dolgozni a kett≈ëvel. Kicsit k√∂zelebbr≈ël megvizsg√°lva az adatb√°zist, azt l√°thatjuk, hogy minden adatb√°zisunkban szerepl≈ë korm√°nyzati ciklusra 100 megfigyel√©s √°ll rendelkez√©s√ºnkre: <code>tv_tvjav_minta %&gt;% count(korm_ciklus)</code>.</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="similarity.html#cb167-1" aria-hidden="true" tabindex="-1"></a>tv_tvjav_minta <span class="sc">%&gt;%</span> </span>
<span id="cb167-2"><a href="similarity.html#cb167-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(korm_ciklus)</span>
<span id="cb167-3"><a href="similarity.html#cb167-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;246m# A tibble: 6 x 2[39m</span></span>
<span id="cb167-4"><a href="similarity.html#cb167-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   korm_ciklus     n</span></span>
<span id="cb167-5"><a href="similarity.html#cb167-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[38;5;246m&lt;chr&gt;[39m[23m       [3m[38;5;246m&lt;int&gt;[39m[23m</span></span>
<span id="cb167-6"><a href="similarity.html#cb167-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m1[39m 1994-1998     100</span></span>
<span id="cb167-7"><a href="similarity.html#cb167-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m2[39m 1998-2002     100</span></span>
<span id="cb167-8"><a href="similarity.html#cb167-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m3[39m 2002-2006     100</span></span>
<span id="cb167-9"><a href="similarity.html#cb167-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m4[39m 2006-2010     100</span></span>
<span id="cb167-10"><a href="similarity.html#cb167-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m5[39m 2010-2014     100</span></span>
<span id="cb167-11"><a href="similarity.html#cb167-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m6[39m 2014-2018     100</span></span></code></pre></div>
<p>Hasonl√≥an ellen≈ërizhetj√ºk az egyes √©vekre es≈ë megfigyel√©sek sz√°m√°t is.</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="similarity.html#cb168-1" aria-hidden="true" tabindex="-1"></a>tv_tvjav_minta <span class="sc">%&gt;%</span> </span>
<span id="cb168-2"><a href="similarity.html#cb168-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(ev)</span>
<span id="cb168-3"><a href="similarity.html#cb168-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;246m# A tibble: 24 x 2[39m</span></span>
<span id="cb168-4"><a href="similarity.html#cb168-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       ev     n</span></span>
<span id="cb168-5"><a href="similarity.html#cb168-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    [3m[38;5;246m&lt;dbl&gt;[39m[23m [3m[38;5;246m&lt;int&gt;[39m[23m</span></span>
<span id="cb168-6"><a href="similarity.html#cb168-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m 1[39m  [4m1[24m994    11</span></span>
<span id="cb168-7"><a href="similarity.html#cb168-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m 2[39m  [4m1[24m995    31</span></span>
<span id="cb168-8"><a href="similarity.html#cb168-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m 3[39m  [4m1[24m996    23</span></span>
<span id="cb168-9"><a href="similarity.html#cb168-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m 4[39m  [4m1[24m997    31</span></span>
<span id="cb168-10"><a href="similarity.html#cb168-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m 5[39m  [4m1[24m998    17</span></span>
<span id="cb168-11"><a href="similarity.html#cb168-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m 6[39m  [4m1[24m999    20</span></span>
<span id="cb168-12"><a href="similarity.html#cb168-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m 7[39m  [4m2[24m000    34</span></span>
<span id="cb168-13"><a href="similarity.html#cb168-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m 8[39m  [4m2[24m001    30</span></span>
<span id="cb168-14"><a href="similarity.html#cb168-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m 9[39m  [4m2[24m002     3</span></span>
<span id="cb168-15"><a href="similarity.html#cb168-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m10[39m  [4m2[24m004    35</span></span>
<span id="cb168-16"><a href="similarity.html#cb168-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;246m# ... with 14 more rows[39m</span></span></code></pre></div>
</div>
</div>
<div id="sz√∂vegtiszt√≠t√°s" class="section level2" number="10.5">
<h2><span class="header-section-number">10.5</span> Sz√∂vegtiszt√≠t√°s</h2>
<p>Mivel az elemz√©s sor√°n k√©t k√ºl√∂nb√∂z≈ë korpusszal dolgozunk ‚Äì k√©t oszlopnyi sz√∂veggel ‚Äì, egyszer≈±bb, ha a sz√∂vegtiszt√≠t√°s l√©p√©seib≈ël l√©trehozunk egy k√ºl√∂n f√ºggv√©nyt, amely mag√°ban foglalja a m≈±velet egyes l√©p√©seit, √©s lehet≈ëv√© teszi, hogy ne kelljen minden sz√∂vegtiszt√≠t√°si l√©p√©st k√ºl√∂n defini√°lni az egyes korpuszok eset√©n.</p>
<p>A f√ºggv√©ny neve jelen esetben <code>szovegtisztitas</code> lesz, √©s a m√°r ismert l√©p√©seket foglalja mag√°ban: kontrol karakterek sz√≥k√∂zz√© alak√≠t√°sa, k√∂zpontoz√°s √©s a sz√°mok elt√°vol√≠t√°sa. Kisbet≈±s√≠t√©s, ism√©tl≈ëd≈ë stringek √©s a stringek el≈ëtt tal√°lhat√≥ sz√≥k√∂z√∂k elt√°vol√≠t√°sa. Tov√°bb√° a <code>str_remove_all()</code> f√ºggv√©nnyel elt√°vol√≠tjuk azokat az √≠r√°sjeleket, amelyek el≈ëfordulnak a sz√∂vegben, de sz√°munkra nem hasznosak.</p>
<p>A f√ºggv√©ny defini√°l√°s√°t az al√°bbi szintaxissal tehetj√ºk meg.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="similarity.html#cb169-1" aria-hidden="true" tabindex="-1"></a>fuggveny <span class="ot">&lt;-</span> <span class="cf">function</span>(bemenet) {</span>
<span id="cb169-2"><a href="similarity.html#cb169-2" aria-hidden="true" tabindex="-1"></a>    elvegzendo_lepesek</span>
<span id="cb169-3"><a href="similarity.html#cb169-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(kimenet)</span>
<span id="cb169-4"><a href="similarity.html#cb169-4" aria-hidden="true" tabindex="-1"></a> }</span></code></pre></div>
<p>A <em>bemenet</em> helyen azt jel√∂lj√ºk, hogy milyen objektumon fogjuk v√©grehajtani a m≈±veleteket, a <em>kimenetet</em> pedig a <code>return()</code> f√ºggv√©nnyel defini√°ljuk, ez lesz a f√ºggv√©ny√ºnk √∫gynevezett visszat√©r√©si √©rt√©ke, vagyis az <em>elv√©gzend≈ë l√©p√©sek</em> szerint √°talak√≠tott objektum. A sz√∂vegtiszt√≠t√≥ f√ºggv√©ny bemeneti √©s kimeneti √©rt√©ke is text lesz, mivel ebbe a v√°ltoz√≥ba mentett√ºk az elv√©gzend≈ë v√°ltoztat√°sokat.</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="similarity.html#cb170-1" aria-hidden="true" tabindex="-1"></a>szovegtisztitas <span class="ot">&lt;-</span> <span class="cf">function</span>(text) {</span>
<span id="cb170-2"><a href="similarity.html#cb170-2" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_replace</span>(text, <span class="st">&quot;[:cntrl:]&quot;</span>, <span class="st">&quot; &quot;</span>)</span>
<span id="cb170-3"><a href="similarity.html#cb170-3" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;[:punct:]&quot;</span>)</span>
<span id="cb170-4"><a href="similarity.html#cb170-4" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;[:digit:]&quot;</span>)</span>
<span id="cb170-5"><a href="similarity.html#cb170-5" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_to_lower</span>(text)</span>
<span id="cb170-6"><a href="similarity.html#cb170-6" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_trim</span>(text)</span>
<span id="cb170-7"><a href="similarity.html#cb170-7" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_squish</span>(text)</span>
<span id="cb170-8"><a href="similarity.html#cb170-8" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;‚Äô&quot;</span>)</span>
<span id="cb170-9"><a href="similarity.html#cb170-9" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;‚Ä¶&quot;</span>)</span>
<span id="cb170-10"><a href="similarity.html#cb170-10" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;‚Äì&quot;</span>)</span>
<span id="cb170-11"><a href="similarity.html#cb170-11" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;‚Äú&quot;</span>)</span>
<span id="cb170-12"><a href="similarity.html#cb170-12" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;‚Äù&quot;</span>)</span>
<span id="cb170-13"><a href="similarity.html#cb170-13" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;‚Äû&quot;</span>)</span>
<span id="cb170-14"><a href="similarity.html#cb170-14" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;¬´&quot;</span>)</span>
<span id="cb170-15"><a href="similarity.html#cb170-15" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;¬ª&quot;</span>)</span>
<span id="cb170-16"><a href="similarity.html#cb170-16" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;¬ß&quot;</span>)</span>
<span id="cb170-17"><a href="similarity.html#cb170-17" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;¬∞&quot;</span>)</span>
<span id="cb170-18"><a href="similarity.html#cb170-18" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;&lt;U+25A1&gt;&quot;</span>)</span>
<span id="cb170-19"><a href="similarity.html#cb170-19" aria-hidden="true" tabindex="-1"></a>  text <span class="ot">=</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;@&quot;</span>)</span>
<span id="cb170-20"><a href="similarity.html#cb170-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(text)</span>
<span id="cb170-21"><a href="similarity.html#cb170-21" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Miut√°n l√©trehoztuk a sz√∂vegtiszt√≠t√°sra alkalmas f√ºggv√©ny√ºnket, az adatb√°zis k√©t oszlop√°ra fogjuk alkalmazni: a t√∂rv√©nyek sz√∂veg√©t √©s a t√∂rv√©nyjavaslatok sz√∂veg√©t tartalmaz√≥ oszlopra, amiben a <code>mapply()</code> f√ºggv√©ny lesz a seg√≠ts√©g√ºnkre. A <code>mapply()</code> f√ºggv√©nyen bel√ºl megadjuk az adatb√°zist, √©s ennek vonatkoz√≥ r√©szeire val√≥ hivatkoz√°st <code>tv_tvjav_minta[ ,c("torveny_szoveg","tvjav_szoveg")]</code>. Az alkalmazni k√≠v√°nt f√ºggv√©nyt a <code>FUN</code> argumanetumak√©nt adhatjuk meg ‚Äì √©rtelemszer≈±en ez eset√ºnkben az el≈ëz≈ëekben l√©trehozott <code>szovegtisztitas</code> f√ºggv√©ny lesz. V√©gezet√ºl pedig a f√ºgv√©ny√ºnk √°ltal megtiszt√≠tott √∫j oszlopokkal fel√ºl√≠rjuk az el≈ëz≈ë adatb√°zisunk vonatkoz√≥ oszlopait, vagyis a <code>torveny_szoveg</code> √©s a <code>tvjav_szoveg</code> oszlopokat: <code>tv_tvjav_minta[, c("torveny_szoveg","tvjav_szoveg")] &lt;- &gt;&gt;√∫jonnan l√©trehozott oszlopok&lt;&lt;</code>.</p>
<p>Amennyiben sz√°m√≠tunk r√°, hogy m√©g v√°ltozhatnak a sz√∂vegeket tartalmaz√≥ oszlopok, akkor √©rdemes el≈ëre defini√°lni a sz√∂veges oszlopok neveit, hogy k√©s≈ëbb csak egy helyen kelljen v√°ltoztatni a k√≥don.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="similarity.html#cb171-1" aria-hidden="true" tabindex="-1"></a>szovegek <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;torveny_szoveg&quot;</span>,<span class="st">&quot;tvjav_szoveg&quot;</span>)</span>
<span id="cb171-2"><a href="similarity.html#cb171-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-3"><a href="similarity.html#cb171-3" aria-hidden="true" tabindex="-1"></a>tv_tvjav_minta[, szovegek] <span class="ot">&lt;-</span> <span class="fu">mapply</span>(tv_tvjav_minta[, szovegek], <span class="at">FUN =</span> szovegtisztitas)</span></code></pre></div>
<p>A sz√∂vegtiszt√≠t√°s k√∂vetkez≈ë l√©p√©se a stopszavak meghat√°roz√°sa √©s kisz≈±r√©se a sz√∂vegb≈ël. Itt a <code>quanteda</code> csomagban el√©rhet≈ë magyar nyelv≈± stopszavakat, valamint a <a href="lda-ch.html#lda_ch">7. fejezetben</a> meghat√°rozott speci√°lis jogi stopszavak list√°j√°t haszn√°ljuk.</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="similarity.html#cb172-1" aria-hidden="true" tabindex="-1"></a>legal_stopwords <span class="ot">&lt;-</span> HunMineR<span class="sc">::</span>data_legal_stopwords</span></code></pre></div>
<p>A stopszavak beimport√°l√°s√°t k√∂vet≈ëen korpussz√° alak√≠tjuk a sz√∂vegeinket √©s tokeniz√°ljuk azokat. Ezt m√°r k√ºl√∂n-k√ºl√∂n v√©gezz√ºk el a t√∂rv√©nyek √©s a t√∂rv√©nyjavaslatok sz√∂vegeire, azonos l√©p√©sekben haladva. A l√©trehozott objektumokat itt is ellen≈ërizhetj√ºk, p√©ld√°ul a <code>summary(torvenyek_coprus)</code> paranccsal, vagy a <code>torvenyek_tokens[1:3]</code> paranccsal, mely az els≈ë 3 dokumentum tokenjeit fogja megmutatni.</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="similarity.html#cb173-1" aria-hidden="true" tabindex="-1"></a>torvenyek_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(tv_tvjav_minta<span class="sc">$</span>torveny_szoveg)</span>
<span id="cb173-2"><a href="similarity.html#cb173-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-3"><a href="similarity.html#cb173-3" aria-hidden="true" tabindex="-1"></a>tv_javaslatok_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(tv_tvjav_minta<span class="sc">$</span>tvjav_szoveg)</span></code></pre></div>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="similarity.html#cb174-1" aria-hidden="true" tabindex="-1"></a>torvenyek_tokens <span class="ot">&lt;-</span> <span class="fu">tokens</span>(torvenyek_corpus) <span class="sc">%&gt;%</span></span>
<span id="cb174-2"><a href="similarity.html#cb174-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_remove</span>(<span class="fu">stopwords</span>(<span class="st">&quot;hungarian&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb174-3"><a href="similarity.html#cb174-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_remove</span>(legal_stopwords) <span class="sc">%&gt;%</span></span>
<span id="cb174-4"><a href="similarity.html#cb174-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_wordstem</span>(<span class="at">language =</span> <span class="st">&quot;hun&quot;</span>)</span>
<span id="cb174-5"><a href="similarity.html#cb174-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-6"><a href="similarity.html#cb174-6" aria-hidden="true" tabindex="-1"></a>tv_javaslatok_tokens <span class="ot">&lt;-</span> <span class="fu">tokens</span>(tv_javaslatok_corpus) <span class="sc">%&gt;%</span></span>
<span id="cb174-7"><a href="similarity.html#cb174-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_remove</span>(<span class="fu">stopwords</span>(<span class="st">&quot;hungarian&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb174-8"><a href="similarity.html#cb174-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_remove</span>(legal_stopwords) <span class="sc">%&gt;%</span></span>
<span id="cb174-9"><a href="similarity.html#cb174-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_wordstem</span>(<span class="at">language =</span> <span class="st">&quot;hun&quot;</span>)</span></code></pre></div>
<p>A sz√∂vegek tokeniz√°l√°s√°val √©s a stopszavak elt√°vol√≠t√°s√°val a sz√∂vegtiszt√≠t√°s v√©g√©re √©rt√ºnk, √≠gy megkezdhetj√ºk az elemz√©st.</p>
</div>
<div id="a-jaccard-hasonl√≥s√°g-sz√°m√≠t√°s" class="section level2" number="10.6">
<h2><span class="header-section-number">10.6</span> A Jaccard hasonl√≥s√°g sz√°m√≠t√°s</h2>
<p>A Jaccard hasonl√≥s√°g kisz√°m√≠t√°s√°hoz a <code>quanteda</code> <code>textstat_simil()</code> f√ºggv√©ny√©t fogjuk alkalmazni. Mivel a <code>textstat_simil()</code> f√ºggv√©ny dokumentum-kifejez√©s m√°trixot v√°r bemenetk√©nt, els≈ëk√©nt alak√≠tsuk √°t ennek megfelel≈ëen a korpuszainkat. Az el≈ëz≈ë fejezetekhez hasonl√≥an itt is a TF-IDF s√∫lyoz√°st v√°lasztottuk a m√°trix l√©trehoz√°sakor.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="similarity.html#cb175-1" aria-hidden="true" tabindex="-1"></a>torvenyek_dfm <span class="ot">&lt;-</span> <span class="fu">dfm</span>(torvenyek_tokens) <span class="sc">%&gt;%</span> </span>
<span id="cb175-2"><a href="similarity.html#cb175-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_tfidf</span>()</span>
<span id="cb175-3"><a href="similarity.html#cb175-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-4"><a href="similarity.html#cb175-4" aria-hidden="true" tabindex="-1"></a>tv_javaslatok_dfm <span class="ot">&lt;-</span> <span class="fu">dfm</span>(tv_javaslatok_tokens) <span class="sc">%&gt;%</span> </span>
<span id="cb175-5"><a href="similarity.html#cb175-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_tfidf</span>()</span></code></pre></div>
<p>Miut√°n l√©trehoztuk a dokumentum-kifejez√©s m√°trixokat, √©rdemes a leggyakoribb tokeneket ellen≈ërizni a <code>textstat_frequency()</code> f√ºggv√©nnyel, hogy biztosak lehess√ºnk abban, hogy a megfelel≈ë eredm√©nyt √©rt√ºk el a sz√∂vegtiszt√≠t√°s sor√°n. (Amennyiben nem vagyunk el√©gedettek, √©rdemes visszat√©rni a stopszavakhoz √©s √∫jabb kifejez√©seket hozz√°rendelni a stopsz√≥ list√°hoz.)</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="similarity.html#cb176-1" aria-hidden="true" tabindex="-1"></a>tv_toptokens <span class="ot">&lt;-</span> <span class="fu">textstat_frequency</span>(torvenyek_dfm, <span class="at">n =</span> <span class="dv">10</span>, <span class="at">force =</span> <span class="cn">TRUE</span>)</span>
<span id="cb176-2"><a href="similarity.html#cb176-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-3"><a href="similarity.html#cb176-3" aria-hidden="true" tabindex="-1"></a>tv_toptokens</span>
<span id="cb176-4"><a href="similarity.html#cb176-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         feature frequency rank docfreq group</span></span>
<span id="cb176-5"><a href="similarity.html#cb176-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1            an  6992.110    1     131   all</span></span>
<span id="cb176-6"><a href="similarity.html#cb176-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2      szerzodo  4794.806    2     150   all</span></span>
<span id="cb176-7"><a href="similarity.html#cb176-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   felhalmoz√°s  3617.640    3      28   all</span></span>
<span id="cb176-8"><a href="similarity.html#cb176-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4        articl  3425.718    4      74   all</span></span>
<span id="cb176-9"><a href="similarity.html#cb176-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5        kiad√°s  3327.803    5     224   all</span></span>
<span id="cb176-10"><a href="similarity.html#cb176-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6           for  3304.808    6     100   all</span></span>
<span id="cb176-11"><a href="similarity.html#cb176-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7   contracting  3295.353    7      39   all</span></span>
<span id="cb176-12"><a href="similarity.html#cb176-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8  k√∂lts√©gvet√©s  3129.739    8     206   all</span></span>
<span id="cb176-13"><a href="similarity.html#cb176-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9    befektet√©s  3129.628    9      73   all</span></span>
<span id="cb176-14"><a href="similarity.html#cb176-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10     szan√°l√°s  2629.448   10      13   all</span></span></code></pre></div>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="similarity.html#cb177-1" aria-hidden="true" tabindex="-1"></a>tvjav_toptokens <span class="ot">&lt;-</span> <span class="fu">textstat_frequency</span>(tv_javaslatok_dfm, <span class="at">n =</span> <span class="dv">10</span>, <span class="at">force =</span> <span class="cn">TRUE</span>)</span>
<span id="cb177-2"><a href="similarity.html#cb177-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-3"><a href="similarity.html#cb177-3" aria-hidden="true" tabindex="-1"></a>tvjav_toptokens</span>
<span id="cb177-4"><a href="similarity.html#cb177-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          feature frequency rank docfreq group</span></span>
<span id="cb177-5"><a href="similarity.html#cb177-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1             an  6050.864    1     160   all</span></span>
<span id="cb177-6"><a href="similarity.html#cb177-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2       szerzodo  4533.032    2     148   all</span></span>
<span id="cb177-7"><a href="similarity.html#cb177-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3         articl  3489.540    3      75   all</span></span>
<span id="cb177-8"><a href="similarity.html#cb177-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4     befektet√©s  3447.234    4      90   all</span></span>
<span id="cb177-9"><a href="similarity.html#cb177-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  buncselekm√©ny  3274.250    5      96   all</span></span>
<span id="cb177-10"><a href="similarity.html#cb177-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6    contracting  3266.005    6      40   all</span></span>
<span id="cb177-11"><a href="similarity.html#cb177-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7       szan√°l√°s  3234.839    7      12   all</span></span>
<span id="cb177-12"><a href="similarity.html#cb177-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8        b√≠r√≥s√°g  3225.629    8     301   all</span></span>
<span id="cb177-13"><a href="similarity.html#cb177-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9      egyezm√©ny  3045.205    9     231   all</span></span>
<span id="cb177-14"><a href="similarity.html#cb177-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10           for  3045.119   10     109   all</span></span></code></pre></div>
<p>A l√©trehozott dokumentum-kifejez√©s m√°trixokon elv√©gezhetj√ºk a dokumentumhasonl√≥s√°g vizsg√°latot. (A Jaccard hasonl√≥s√°g metrika, illetve a <code>quanteda</code> <code>textstat_simil()</code> f√ºggv√©nye alkalmazhat√≥ egy korpuszra is. Egy korpuszra v√©gezve az elemz√©st, a f√ºggv√©ny a korpusz dokumentumai k√∂z√∂tti hasonl√≥s√°got sz√°m√≠tja ki, m√≠g k√©t korpuszra mindk√©t korpusz √∂sszes dokumentuma k√∂z√∂tti hasonl√≥s√°got. √ârdemes tov√°bb√° azt is megjegyezni, hogy a <code>textstat_simil()</code> <code>method</code> argumentumak√©nt megadhat√≥ sz√°mos m√°s hasonl√≥s√°gi metrika is, melyekkel tov√°bbi √©rdekes sz√°m√≠t√°sok v√©gezhet≈ëk. B≈ëvebben a <code>textstat_simil()</code> f√ºgg√©ny haszn√°lat√°r√≥l √©s argumentumair√≥l a <code>quanteda</code> hivatalos honlapj√°n olvashatunk<a href="#fn44" class="footnote-ref" id="fnref44"><sup>44</sup></a>. A <code>textstat_simil()</code> f√ºggv√©ny kapcs√°n azt is √©rdemes figyelembe venni, hogy mivel nem csak a dokumentum p√°rokra, hanem az √∂sszes bemenetk√©nt megadott dokumentumra k√ºl√∂n kisz√°m√≠tja a Jaccard indexet, a korpusz(ok) m√©ret√©nek n√∂vel√©s√©vel a sz√°m√≠t√°s kapacit√°s- √©s id≈ëig√©nyess√©ge exponenci√°lisan n√∂vekszik. K√©t 600 dokumentumb√≥l √°ll√≥ korpusz eset√©n kb. 4‚Äì5 perc a sz√°m√≠t√°si id≈ë, m√≠g 360 dokumentum eset√©n csup√°n 1‚Äì2 perc.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="similarity.html#cb178-1" aria-hidden="true" tabindex="-1"></a>jaccard_hasonlosag <span class="ot">&lt;-</span>  <span class="fu">textstat_simil</span>(torvenyek_dfm, tv_javaslatok_dfm, <span class="at">method =</span> <span class="st">&quot;jaccard&quot;</span>) </span></code></pre></div>
<p>Mivel az eredm√©nym√°trixunk meglehet≈ësen terjedelmes, nem √©rdemes az eg√©szet egyben megtekinteni, egyszer≈±bb az els≈ë n√©h√°ny dokumentum k√∂z√∂tti hasonl√≥s√°gra sz≈±rni, melyet a sz√∂gletes z√°r√≥jelben val√≥ indexel√©ssel tudunk megtenni. Az <code>[1:5, 1:5]</code> kifejez√©ssel specifik√°lhatjuk a sorokat √©s az oszlopkat az els≈ët≈ël az √∂t√∂dikig.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="similarity.html#cb179-1" aria-hidden="true" tabindex="-1"></a>jaccard_hasonlosag[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb179-2"><a href="similarity.html#cb179-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 x 5 Matrix of class &quot;dgeMatrix&quot;</span></span>
<span id="cb179-3"><a href="similarity.html#cb179-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            text1      text2      text3      text4      text5</span></span>
<span id="cb179-4"><a href="similarity.html#cb179-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; text1 0.55407750 0.12565172 0.11437309 0.12500000 0.15256496</span></span>
<span id="cb179-5"><a href="similarity.html#cb179-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; text2 0.09830508 0.57181572 0.12781350 0.16494845 0.09432387</span></span>
<span id="cb179-6"><a href="similarity.html#cb179-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; text3 0.08797954 0.12447257 0.72876712 0.10216718 0.07635695</span></span>
<span id="cb179-7"><a href="similarity.html#cb179-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; text4 0.10887290 0.18933333 0.11823802 0.57200000 0.11339359</span></span>
<span id="cb179-8"><a href="similarity.html#cb179-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; text5 0.15041322 0.09396914 0.08807829 0.09842271 0.62733813</span></span></code></pre></div>
<p>A m√°trix f≈ëdiagon√°lj√°ban jelennek meg az √∂sszetartoz√≥ t√∂rv√©nyekre √©s t√∂rv√©nysz√∂vegekre vonatkoz√≥ √©rt√©kek, minden m√°s √©rt√©k nem √∂sszetartoz√≥ t√∂rv√©ny √©s t√∂rv√©nyjavaslat sz√∂vegek hasonl√≥s√°g√°ra vonatkozik, vagyis a vizsg√°latunk szempontj√°b√≥l irrelev√°ns. Ahhoz, hogy kinyerj√ºk a sz√°munkra √©rt√©kes adatokat, a Jaccard hasonl√≥s√°g v√°ltoz√≥t m√°trixsz√° kell alak√≠tani. (R√°n√©z√©sre √∫gy t≈±nhet, hogy m√°r most is m√°trix, de val√≥j√°ban ez egy speci√°lis S4 t√≠pus√∫ objektum, melyben a m√°trixon k√≠v√ºl m√°s t√≠pus√∫ inform√°ci√≥k is el vannak mentve. Az egyes objektumok t√≠pus√°t mindig ellen≈ërizhetj√ºk a typeof() f√ºggv√©nnyel: <code>typeof(jaccard_hasonlosag)</code>). A m√°trixsz√° alak√≠t√°sban az <code>as.matrix()</code> f√ºggv√©ny lesz a seg√≠ts√©g√ºnkre, melynek egy√∫ttal a diagon√°lj√°t is kinyerhetj√ºk a <code>diag()</code> f√ºggv√©nnyel. Ha j√≥l dolgoztunk, a l√©trehozott <code>jaccard_diag</code> els≈ë √∂t eleme (<code>jaccard_diag[1:5]</code>) megegyezik a fent megjelen√≠tett 5x5-√∂s m√°trix f≈ëdiagon√°lj√°ban elhelyezked≈ë √©rt√©kekkel, hossza pedig (<code>length()</code>) a m√°trix b√°rmelyik dimenzi√≥j√°val.</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="similarity.html#cb180-1" aria-hidden="true" tabindex="-1"></a>jaccard_diag <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="fu">as.matrix</span>(jaccard_hasonlosag))</span>
<span id="cb180-2"><a href="similarity.html#cb180-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-3"><a href="similarity.html#cb180-3" aria-hidden="true" tabindex="-1"></a>jaccard_diag[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb180-4"><a href="similarity.html#cb180-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     text1     text2     text3     text4     text5 </span></span>
<span id="cb180-5"><a href="similarity.html#cb180-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 0.5540775 0.5718157 0.7287671 0.5720000 0.6273381</span></span></code></pre></div>
<p>Miut√°n siker√ºlt kinyerni az egyes t√∂rv√©ny‚Äìt√∂rv√©nyjavaslat p√°rokra vonatkoz√≥ Jaccard √©rt√©ket, √©rdemes a sz√°m√≠t√°sainkat hozz√°rendelni az eredeti adatt√°bl√°nkhoz, hogy a megl√©v≈ë metaadatok f√©ny√©ben tudjuk ki√©rt√©kelni az egyes dokumentumok k√∂z√∂tti hasonl√≥s√°got. A hozz√°rendel√©shez egyszer≈±en defini√°lunk egy √∫j oszlopot a megl√©v≈ë adatb√°zisban <code>tv_tvjav_minta$jaccard_index</code>, melyhez hozz√°rendelj√ºk a diagon√°lb√≥l kinyert √©rt√©keket.</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="similarity.html#cb181-1" aria-hidden="true" tabindex="-1"></a>tv_tvjav_minta<span class="sc">$</span>jaccard_index <span class="ot">&lt;-</span> jaccard_diag</span></code></pre></div>
<p>√ârdemes megn√©zni a v√©geredm√©nyt, ellen≈ërizni a Jaccard hasonl√≥s√°g legmagasabb √©s legalacsonyabb √©rt√©keit. A <code>top_n()</code> f√ºggv√©ny haszn√°lat√°val ki tudjuk v√°logatni a legmagasabb √©s a legalacsonyabb √©rt√©keket. A <code>top_n()</code> f√ºggv√©ny els≈ë argumentuma a v√°ltoz√≥ lesz, ami alapj√°n a legalacsonyabb √©s a legmagasabb √©rt√©keket keress√ºk, a m√°sodik argumentum pedig azt specifik√°lja, hogy a legmagasabb √©s a legalacsonyabb √©rt√©kek k√∂z√ºl h√°nyat szeretn√©nk l√°tni. Az <code>n=5</code> √©rt√©kkel a legmagasabb, az <code>n=-5</code> √©rt√©kkel a legalacsonyabb 5 Jaccard indexszel rendelkez≈ë sort tudjuk kisz≈±rni. Emellett √©rdemes arra is odafigyelni, hogy a sz√∂vegeket tartalmaz√≥ oszlopainkat ne pr√≥b√°ljuk meg ki√≠ratni, hiszen ez jelent≈ësen lelass√≠tja az RStudio m≈±k√∂d√©s√©t √©s cs√∂kkenti a ki√≠rt eredm√©nyek √°ttekinthet≈ës√©g√©t.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="similarity.html#cb182-1" aria-hidden="true" tabindex="-1"></a>tv_tvjav_minta[, <span class="fu">c</span>(<span class="st">&quot;tv_id&quot;</span>, <span class="st">&quot;korm_ciklus&quot;</span>, <span class="st">&quot;tvjav_id&quot;</span>, <span class="st">&quot;jaccard_index&quot;</span>)] <span class="sc">%&gt;%</span></span>
<span id="cb182-2"><a href="similarity.html#cb182-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(jaccard_index, <span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb182-3"><a href="similarity.html#cb182-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;246m# A tibble: 5 x 4[39m</span></span>
<span id="cb182-4"><a href="similarity.html#cb182-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   tv_id     korm_ciklus tvjav_id         jaccard_index</span></span>
<span id="cb182-5"><a href="similarity.html#cb182-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[38;5;246m&lt;chr&gt;[39m[23m     [3m[38;5;246m&lt;chr&gt;[39m[23m       [3m[38;5;246m&lt;chr&gt;[39m[23m                    [3m[38;5;246m&lt;dbl&gt;[39m[23m</span></span>
<span id="cb182-6"><a href="similarity.html#cb182-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m1[39m 1994XCV   1994-1998   1994-1998_T0276          0.991</span></span>
<span id="cb182-7"><a href="similarity.html#cb182-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m2[39m 1995LXXXI 1994-1998   1994-1998_T1296          0.987</span></span>
<span id="cb182-8"><a href="similarity.html#cb182-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m3[39m 1999XXXV  1998-2002   1998-2002_T0807          0.985</span></span>
<span id="cb182-9"><a href="similarity.html#cb182-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m4[39m 2013XLII  2010-2014   2010-2014_T10219         0.981</span></span>
<span id="cb182-10"><a href="similarity.html#cb182-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m5[39m 2014VIII  2010-2014   2010-2014_T13631         0.980</span></span></code></pre></div>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="similarity.html#cb183-1" aria-hidden="true" tabindex="-1"></a>tv_tvjav_minta[, <span class="fu">c</span>(<span class="st">&quot;tv_id&quot;</span>, <span class="st">&quot;korm_ciklus&quot;</span>, <span class="st">&quot;tvjav_id&quot;</span>, <span class="st">&quot;jaccard_index&quot;</span>)] <span class="sc">%&gt;%</span> </span>
<span id="cb183-2"><a href="similarity.html#cb183-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(jaccard_index, <span class="at">n=</span><span class="sc">-</span><span class="dv">5</span>) </span>
<span id="cb183-3"><a href="similarity.html#cb183-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;246m# A tibble: 5 x 4[39m</span></span>
<span id="cb183-4"><a href="similarity.html#cb183-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   tv_id       korm_ciklus tvjav_id         jaccard_index</span></span>
<span id="cb183-5"><a href="similarity.html#cb183-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[38;5;246m&lt;chr&gt;[39m[23m       [3m[38;5;246m&lt;chr&gt;[39m[23m       [3m[38;5;246m&lt;chr&gt;[39m[23m                    [3m[38;5;246m&lt;dbl&gt;[39m[23m</span></span>
<span id="cb183-6"><a href="similarity.html#cb183-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m1[39m 1998I       1994-1998   1994-1998_T4328        0.051[4m3[24m </span></span>
<span id="cb183-7"><a href="similarity.html#cb183-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m2[39m 2005LII     2002-2006   2002-2006_T16291       0.053[4m2[24m </span></span>
<span id="cb183-8"><a href="similarity.html#cb183-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m3[39m 2007CLXVIII 2006-2010   2006-2010_T04678       0.027[4m0[24m </span></span>
<span id="cb183-9"><a href="similarity.html#cb183-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m4[39m 2010CLV     2010-2014   2010-2014_T01809       0.027[4m3[24m </span></span>
<span id="cb183-10"><a href="similarity.html#cb183-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m5[39m 2012CXCV    2010-2014   2010-2014_T09103       0.008[4m9[24m[4m5[24m</span></span></code></pre></div>
<p>L√°thatjuk, hogy az √∂t leghasonl√≥bb t√∂rv√©ny‚Äìt√∂rv√©nyjavaslat p√°r eset√©n 0.98 felett van a Jaccard hasonl√≥s√°g √©rt√©ke, m√≠g a legink√°bb k√ºl√∂nb√∂z≈ë √∂tn√©l 0.03 alatt.</p>
</div>
<div id="a-koszinusz-hasonl√≥s√°g-sz√°m√≠t√°s" class="section level2" number="10.7">
<h2><span class="header-section-number">10.7</span> A Koszinusz hasonl√≥s√°g sz√°m√≠t√°s</h2>
<p>A Jaccard hasonl√≥s√°g sz√°m√≠t√°s ut√°n a koszinusz t√°vols√°g sz√°m√≠t√°sa m√°r nem jelent nagy kih√≠v√°st, hiszen a <code>textat_simil()</code> f√ºggv√©nnyel ezt is kisz√°m√≠thatjuk, csup√°n a metrika param√©terek√©nt (<code>method =</code>) megadhatjuk a koszinuszt is. Ahogy az el≈ëbbiekben, itt is a dokumentum-kifejez√©s m√°trixokat adjuk meg bemeneti √©rt√©kk√©nt.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="similarity.html#cb184-1" aria-hidden="true" tabindex="-1"></a>koszinusz_hasonlosag <span class="ot">&lt;-</span> <span class="fu">textstat_simil</span>(torvenyek_dfm, tv_javaslatok_dfm, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>) </span></code></pre></div>
<p>√ârdmes itt is megtekinteni a m√°trix els≈ë n√©h√°ny sor√°ba √©s oszlop√°ba es≈ë √©rt√©keket.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="similarity.html#cb185-1" aria-hidden="true" tabindex="-1"></a>koszinusz_hasonlosag[<span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb185-2"><a href="similarity.html#cb185-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 x 5 Matrix of class &quot;dgeMatrix&quot;</span></span>
<span id="cb185-3"><a href="similarity.html#cb185-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            text1       text2       text3       text4       text5</span></span>
<span id="cb185-4"><a href="similarity.html#cb185-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; text1 0.61881872 0.015832786 0.016163982 0.014361259 0.055145416</span></span>
<span id="cb185-5"><a href="similarity.html#cb185-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; text2 0.01051437 0.928929092 0.006185991 0.045378617 0.007042933</span></span>
<span id="cb185-6"><a href="similarity.html#cb185-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; text3 0.01484353 0.007634593 0.984988124 0.005659447 0.001826568</span></span>
<span id="cb185-7"><a href="similarity.html#cb185-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; text4 0.01845665 0.050139950 0.005569874 0.960631668 0.018335364</span></span>
<span id="cb185-8"><a href="similarity.html#cb185-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; text5 0.07399905 0.006867184 0.002846785 0.017476290 0.753752459</span></span></code></pre></div>
<p>Ebben az esetben is csak a m√°trix diagon√°lj√°ra van sz√ºks√©g√ºnk, melyet a fent ismertetett m√≥don nyer√ºnk ki a m√°trixb√≥l.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="similarity.html#cb186-1" aria-hidden="true" tabindex="-1"></a>koszinusz_diag <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="fu">as.matrix</span>(koszinusz_hasonlosag))</span>
<span id="cb186-2"><a href="similarity.html#cb186-2" aria-hidden="true" tabindex="-1"></a>koszinusz_diag[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb186-3"><a href="similarity.html#cb186-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     text1     text2     text3     text4     text5 </span></span>
<span id="cb186-4"><a href="similarity.html#cb186-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 0.6188187 0.9289291 0.9849881 0.9606317 0.7537525</span></span></code></pre></div>
<p>V√©gezet√ºl pedig a diagon√°lb√≥l kinyert koszinusz √©rt√©keket is hozz√°rendelj√ºk az adatb√°zisunkhoz.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="similarity.html#cb187-1" aria-hidden="true" tabindex="-1"></a>tv_tvjav_minta<span class="sc">$</span>koszinusz <span class="ot">&lt;-</span> koszinusz_diag</span></code></pre></div>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="similarity.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(tv_tvjav_minta)</span>
<span id="cb188-2"><a href="similarity.html#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;tv_id&quot;          &quot;torveny_szoveg&quot; &quot;korm_ciklus&quot;    &quot;ev&quot;             &quot;korm_ell&quot;      </span></span>
<span id="cb188-3"><a href="similarity.html#cb188-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6] &quot;tvjav_id&quot;       &quot;tvjav_szoveg&quot;   &quot;jaccard_index&quot;  &quot;koszinusz&quot;</span></span></code></pre></div>
</div>
<div id="az-eredm√©nyek-vizualiz√°ci√≥ja" class="section level2" number="10.8">
<h2><span class="header-section-number">10.8</span> Az eredm√©nyek vizualiz√°ci√≥ja</h2>
<p>A hasonl√≥s√°g metrik√°k vizuliz√°ci√≥j√°ra gyakran alkalmazott megold√°s a h≈ët√©rk√©p (<em>heatmap</em>), mellyel korrel√°ci√≥s m√°trixokat √°br√°zolhatunk. Ebben az esetben a m√°trix √©rt√©keit egy sz√≠nsk√°l√°n vizualiz√°ljuk, ahol a vil√°gosabb sz√≠nek a magasabb, a s√∂t√©tebb sz√≠nek az alacsonyabb √©rt√©keket jel√∂lik. A Jaccard hasonl√≥s√°g sz√°m√≠t√°s √©s a Koszinusz hasonl√≥s√°g sz√°m√≠t√°sakor kapott m√°trixok eset√©n is √°br√°zolhatjuk az √©rt√©keinket ilyen m√≥don. Mivel azonban mindk√©t m√°trix 600x600-as, nem √©rdemes a teljes m√°trixot megjelen√≠teni, mert ilyen nagy mennyis√©g≈± adatn√°l m√°r √©rtelmezhetetlenn√© v√°lik az √°bra, √≠gy csak az utols√≥ 100 elemet, vagyis a 2014‚Äì2018-as id≈ëszakra vonatkoz√≥ √©rt√©keket jelen√≠tj√ºk meg. Ezt a <code>kosziunsz_hasonl√≥s√°g</code> nev≈± objektumunk feldarabol√°s√°val tessz√ºk meg, sz√∂gletes z√°r√≥jelben jel√∂lve, hogy a m√°trix mely sorait, √©s mely oszlopait szeretn√©nk haszn√°lni: <code>koszinusz_hasonlosag[501:600, 501:600</code>. A <code>koszinusz_hasonlosag</code> objektumb√≥l egy data frame-t k√©sz√≠t√ºnk, ahol a dokumentumok k√∂z√∂tti hasonl√≥s√°g szerepel. A m√°trix form√°tumb√≥l a <code>tidyr</code> csomag <code>pivot_longer()</code> f√ºggv√©ny√©t haszn√°lva tudjuk a k√≠v√°nt form√°tumot el√©rni.</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="similarity.html#cb189-1" aria-hidden="true" tabindex="-1"></a>koszinusz_df <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(koszinusz_hasonlosag[<span class="dv">501</span><span class="sc">:</span><span class="dv">600</span>, <span class="dv">501</span><span class="sc">:</span><span class="dv">600</span>]) <span class="sc">%&gt;%</span> </span>
<span id="cb189-2"><a href="similarity.html#cb189-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb189-3"><a href="similarity.html#cb189-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">&quot;docs1&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb189-4"><a href="similarity.html#cb189-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="st">&quot;text501&quot;</span><span class="sc">:</span><span class="st">&quot;text600&quot;</span>, <span class="at">names_to =</span> <span class="st">&quot;docs2&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;similarity&quot;</span>)</span>
<span id="cb189-5"><a href="similarity.html#cb189-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-6"><a href="similarity.html#cb189-6" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(koszinusz_df)</span>
<span id="cb189-7"><a href="similarity.html#cb189-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Rows: 10,000</span></span>
<span id="cb189-8"><a href="similarity.html#cb189-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Columns: 3</span></span>
<span id="cb189-9"><a href="similarity.html#cb189-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ docs1      [3m[38;5;246m&lt;chr&gt;[39m[23m &quot;text501&quot;, &quot;text501&quot;, &quot;text501&quot;, &quot;text501&quot;, &quot;text501&quot;, &quot;text501&quot;, &quot;~</span></span>
<span id="cb189-10"><a href="similarity.html#cb189-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ docs2      [3m[38;5;246m&lt;chr&gt;[39m[23m &quot;text501&quot;, &quot;text502&quot;, &quot;text503&quot;, &quot;text504&quot;, &quot;text505&quot;, &quot;text506&quot;, &quot;~</span></span>
<span id="cb189-11"><a href="similarity.html#cb189-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ similarity [3m[38;5;246m&lt;dbl&gt;[39m[23m 0.956008320, 0.022967812, 0.042582749, 0.028090268, 0.009058144, 0.~</span></span></code></pre></div>
<p>Ezt k√∂vet≈ëen pedig a <code>ggplot</code> f√ºggv√©nyt haszn√°lva a <code>geom_tile</code> seg√≠ts√©g√©vel tudjuk elk√©sz√≠teni a h≈ët√©rk√©pet ami a hasonl√≥s√°gi m√°trixot √°br√°zolja.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="similarity.html#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(koszinusz_df, <span class="fu">aes</span>(docs1, docs2, <span class="at">fill =</span> similarity)) <span class="sc">+</span></span>
<span id="cb190-2"><a href="similarity.html#cb190-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb190-3"><a href="similarity.html#cb190-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">high =</span> <span class="st">&quot;#2c3e50&quot;</span>, <span class="at">low =</span> <span class="st">&quot;#bdc3c7&quot;</span>) <span class="sc">+</span></span>
<span id="cb190-4"><a href="similarity.html#cb190-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb190-5"><a href="similarity.html#cb190-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb190-6"><a href="similarity.html#cb190-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb190-7"><a href="similarity.html#cb190-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;Koszinusz hasonl√≥s√°g&quot;</span></span>
<span id="cb190-8"><a href="similarity.html#cb190-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb190-9"><a href="similarity.html#cb190-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb190-10"><a href="similarity.html#cb190-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x=</span><span class="fu">element_blank</span>(),</span>
<span id="cb190-11"><a href="similarity.html#cb190-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.x=</span><span class="fu">element_blank</span>(),</span>
<span id="cb190-12"><a href="similarity.html#cb190-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y=</span><span class="fu">element_blank</span>(),</span>
<span id="cb190-13"><a href="similarity.html#cb190-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.y=</span><span class="fu">element_blank</span>()</span>
<span id="cb190-14"><a href="similarity.html#cb190-14" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-208"></span>
<p class="caption">
√Åbra 10.1: A koszinusz hasonl√≥s√°gi hot√©rk√©p
</p>
<img src="_main_files/figure-html/unnamed-chunk-208-1.png" alt="A koszinusz hasonl√≥s√°gi hot√©rk√©p" width="90%" />
</div>
<p>A Jaccard hasonl√≥s√°gi h≈ët√©rk√©pet ugyanezzel a m√≥dszerrel tudjuk elk√©sz√≠teni.</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="similarity.html#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="co"># adatok √°talak√≠t√°sa</span></span>
<span id="cb191-2"><a href="similarity.html#cb191-2" aria-hidden="true" tabindex="-1"></a>jaccard_df <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(jaccard_hasonlosag[<span class="dv">501</span><span class="sc">:</span><span class="dv">600</span>, <span class="dv">501</span><span class="sc">:</span><span class="dv">600</span>]) <span class="sc">%&gt;%</span> </span>
<span id="cb191-3"><a href="similarity.html#cb191-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb191-4"><a href="similarity.html#cb191-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">&quot;docs1&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb191-5"><a href="similarity.html#cb191-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="st">&quot;text501&quot;</span><span class="sc">:</span><span class="st">&quot;text600&quot;</span>, <span class="at">names_to =</span> <span class="st">&quot;docs2&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;similarity&quot;</span>)</span>
<span id="cb191-6"><a href="similarity.html#cb191-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-7"><a href="similarity.html#cb191-7" aria-hidden="true" tabindex="-1"></a><span class="co"># a ggplot √°bra</span></span>
<span id="cb191-8"><a href="similarity.html#cb191-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(jaccard_df, <span class="fu">aes</span>(docs1, docs2, <span class="at">fill =</span> similarity)) <span class="sc">+</span></span>
<span id="cb191-9"><a href="similarity.html#cb191-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb191-10"><a href="similarity.html#cb191-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">high =</span> <span class="st">&quot;#2c3e50&quot;</span>, <span class="at">low =</span> <span class="st">&quot;#bdc3c7&quot;</span>) <span class="sc">+</span></span>
<span id="cb191-11"><a href="similarity.html#cb191-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb191-12"><a href="similarity.html#cb191-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb191-13"><a href="similarity.html#cb191-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb191-14"><a href="similarity.html#cb191-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;Jaccard hasonl√≥s√°g&quot;</span></span>
<span id="cb191-15"><a href="similarity.html#cb191-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb191-16"><a href="similarity.html#cb191-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb191-17"><a href="similarity.html#cb191-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x=</span><span class="fu">element_blank</span>(),</span>
<span id="cb191-18"><a href="similarity.html#cb191-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.x=</span><span class="fu">element_blank</span>(),</span>
<span id="cb191-19"><a href="similarity.html#cb191-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y=</span><span class="fu">element_blank</span>(),</span>
<span id="cb191-20"><a href="similarity.html#cb191-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.y=</span><span class="fu">element_blank</span>()</span>
<span id="cb191-21"><a href="similarity.html#cb191-21" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-209"></span>
<p class="caption">
√Åbra 10.2: A Jaccard hasonl√≥s√°gi hot√©rk√©p
</p>
<img src="_main_files/figure-html/unnamed-chunk-209-1.png" alt="A Jaccard hasonl√≥s√°gi hot√©rk√©p" width="90%" />
</div>
<p>A k√©t plot √∂sszehasonl√≠t√°s√°n√°l l√°thatjuk, hogy a koszinusz hasonl√≥s√°g √°ltal√°ban magasabb hasonl√≥s√°gi √©rt√©keket mutat. A m√°trix f≈ë√°tl√≥j√°ban kiugr√≥ vil√°gos cs√≠k azt mutatja meg, hogy a legnagyobb hasonl√≥s√°g az √∂sszetartoz√≥ t√∂rv√©ny-t√∂rv√©nyjavaslat sz√∂vegek k√∂z√∂tt mutatkozik meg, eddig teh√°t az adataink az elv√°r√°saink szerinti k√©pet mutatj√°k. Amennyiben a vil√°gos cs√≠kot nem l√°tn√°nk, az egy√©rtelm≈± visszajelz√©s volna arr√≥l, hogy elrontottunk valamit a sz√∂vegel≈ëk√©sz√≠t√©s eddigi l√©p√©seinek sor√°n, vagy a v√°rakoz√°s√°saink voltak teljesen rosszak.</p>
<p>A koszinusz √©s a Jaccard hasonl√≥s√°g √©rt√©k√©t √°br√°zolhatjuk k√∂z√∂s pontdiagrammon a <code>geom_jitter()</code> seg√≠ts√©g√©vel. Ehhez el≈ësz√∂r egy kicsit √°talak√≠tjuk a data frame-t a <code>tidyr</code> csomag <code>pivot_longer()</code> f√ºggv√©ny√©vel, hogy a k√©t hasonl√≥s√°gi √©rt√©k egy oszlopban legyen. Ez az√©rt sz√ºks√©ges, hogy a <code>ggplot</code> √°br√°nkat k√∂nnyebben tudjuk l√©trehozni.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="similarity.html#cb192-1" aria-hidden="true" tabindex="-1"></a>tv_tvjav_tidy <span class="ot">&lt;-</span> tv_tvjav_minta <span class="sc">%&gt;%</span> </span>
<span id="cb192-2"><a href="similarity.html#cb192-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="st">&quot;jaccard_index&quot;</span><span class="sc">:</span><span class="st">&quot;koszinusz&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;hasonlosag&quot;</span>, <span class="at">names_to =</span> <span class="st">&quot;hasonlosag_tipus&quot;</span>)</span>
<span id="cb192-3"><a href="similarity.html#cb192-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-4"><a href="similarity.html#cb192-4" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(tv_tvjav_tidy)</span>
<span id="cb192-5"><a href="similarity.html#cb192-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Rows: 1,200</span></span>
<span id="cb192-6"><a href="similarity.html#cb192-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Columns: 9</span></span>
<span id="cb192-7"><a href="similarity.html#cb192-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ tv_id            [3m[38;5;246m&lt;chr&gt;[39m[23m &quot;1994LXXXII&quot;, &quot;1994LXXXII&quot;, &quot;1996CXXXI&quot;, &quot;1996CXXXI&quot;, &quot;1995CX~</span></span>
<span id="cb192-8"><a href="similarity.html#cb192-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ torveny_szoveg   [3m[38;5;246m&lt;chr&gt;[39m[23m &quot;√©vi lxxxii t√∂rv√©ny a mag√°nszem√©lyek j√∂vedelemad√≥j√°r√≥l sz√≥l√≥ ~</span></span>
<span id="cb192-9"><a href="similarity.html#cb192-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ korm_ciklus      [3m[38;5;246m&lt;chr&gt;[39m[23m &quot;1994-1998&quot;, &quot;1994-1998&quot;, &quot;1994-1998&quot;, &quot;1994-1998&quot;, &quot;1994-199~</span></span>
<span id="cb192-10"><a href="similarity.html#cb192-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ ev               [3m[38;5;246m&lt;dbl&gt;[39m[23m 1994, 1994, 1996, 1996, 1995, 1995, 1995, 1995, 1996, 1996, 1~</span></span>
<span id="cb192-11"><a href="similarity.html#cb192-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ korm_ell         [3m[38;5;246m&lt;dbl&gt;[39m[23m 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 9~</span></span>
<span id="cb192-12"><a href="similarity.html#cb192-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ tvjav_id         [3m[38;5;246m&lt;chr&gt;[39m[23m &quot;1994-1998_T0233&quot;, &quot;1994-1998_T0233&quot;, &quot;1994-1998_T3167&quot;, &quot;199~</span></span>
<span id="cb192-13"><a href="similarity.html#cb192-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ tvjav_szoveg     [3m[38;5;246m&lt;chr&gt;[39m[23m &quot;magyar k√∂zt√°rsas√°g korm√°nya t sz√°m√∫ t√∂rv√©nyjavaslat a mag√°ns~</span></span>
<span id="cb192-14"><a href="similarity.html#cb192-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ hasonlosag_tipus [3m[38;5;246m&lt;chr&gt;[39m[23m &quot;jaccard_index&quot;, &quot;koszinusz&quot;, &quot;jaccard_index&quot;, &quot;koszinusz&quot;, &quot;~</span></span>
<span id="cb192-15"><a href="similarity.html#cb192-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ hasonlosag       [3m[38;5;246m&lt;dbl&gt;[39m[23m 0.5540775, 0.6188187, 0.5718157, 0.9289291, 0.7287671, 0.9849~</span></span></code></pre></div>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="similarity.html#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tv_tvjav_tidy, <span class="fu">aes</span>(ev, hasonlosag))<span class="sc">+</span>                  </span>
<span id="cb193-2"><a href="similarity.html#cb193-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">shape =</span> hasonlosag_tipus, <span class="at">color =</span> hasonlosag_tipus), <span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">alpha =</span> <span class="fl">0.45</span>) <span class="sc">+</span></span>
<span id="cb193-3"><a href="similarity.html#cb193-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1994</span>, <span class="dv">2018</span>, <span class="at">by =</span> <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb193-4"><a href="similarity.html#cb193-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Jaccard √©s koszinusz hasonl√≥s√°g&quot;</span>,</span>
<span id="cb193-5"><a href="similarity.html#cb193-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">shape =</span> <span class="cn">NULL</span>,</span>
<span id="cb193-6"><a href="similarity.html#cb193-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb193-7"><a href="similarity.html#cb193-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb193-8"><a href="similarity.html#cb193-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb193-9"><a href="similarity.html#cb193-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb193-10"><a href="similarity.html#cb193-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb193-11"><a href="similarity.html#cb193-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb193-12"><a href="similarity.html#cb193-12" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-211"></span>
<p class="caption">
√Åbra 10.3: √âvenk√©nti hasonl√≥s√°g a dokumentumok k√∂z√∂tt
</p>
<img src="_main_files/figure-html/unnamed-chunk-211-1.png" alt="√âvenk√©nti hasonl√≥s√°g a dokumentumok k√∂z√∂tt" width="90%" />
</div>
<p>A hasonl√≥s√°gi √©rt√©kek √©venk√©nti alakul√°s√°nak meg√©rt√©se √©rdek√©ben √©rdemes √°tlagot sz√°molni a mutat√≥kra. Ezt a <code>group_by()</code> √©s a <code>summarize()</code> f√ºggv√©nyek egy√ºttes alkalmaz√°s√°val tehetj√ºk meg. Megadjuk, hogy √©venk√©nti bont√°sban szeretn√©nk a sz√°m√≠t√°sainkat elv√©gezni <code>group_by(ev)</code>, √©s azt, hogy √°tlag sz√°m√≠t√°st szeretn√©nk v√©gezni <code>mean()</code>.</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="similarity.html#cb194-1" aria-hidden="true" tabindex="-1"></a>evenkenti_atlag <span class="ot">&lt;-</span> tv_tvjav_tidy <span class="sc">%&gt;%</span> </span>
<span id="cb194-2"><a href="similarity.html#cb194-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ev, hasonlosag_tipus) <span class="sc">%&gt;%</span> </span>
<span id="cb194-3"><a href="similarity.html#cb194-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">atl_hasonlosag =</span> <span class="fu">mean</span>(hasonlosag))</span>
<span id="cb194-4"><a href="similarity.html#cb194-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-5"><a href="similarity.html#cb194-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(evenkenti_atlag)</span>
<span id="cb194-6"><a href="similarity.html#cb194-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;246m# A tibble: 6 x 3[39m</span></span>
<span id="cb194-7"><a href="similarity.html#cb194-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;246m# Groups:   ev [3][39m</span></span>
<span id="cb194-8"><a href="similarity.html#cb194-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      ev hasonlosag_tipus atl_hasonlosag</span></span>
<span id="cb194-9"><a href="similarity.html#cb194-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[38;5;246m&lt;dbl&gt;[39m[23m [3m[38;5;246m&lt;chr&gt;[39m[23m                     [3m[38;5;246m&lt;dbl&gt;[39m[23m</span></span>
<span id="cb194-10"><a href="similarity.html#cb194-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m1[39m  [4m1[24m994 jaccard_index             0.556</span></span>
<span id="cb194-11"><a href="similarity.html#cb194-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m2[39m  [4m1[24m994 koszinusz                 0.757</span></span>
<span id="cb194-12"><a href="similarity.html#cb194-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m3[39m  [4m1[24m995 jaccard_index             0.499</span></span>
<span id="cb194-13"><a href="similarity.html#cb194-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m4[39m  [4m1[24m995 koszinusz                 0.776</span></span>
<span id="cb194-14"><a href="similarity.html#cb194-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m5[39m  [4m1[24m996 jaccard_index             0.675</span></span>
<span id="cb194-15"><a href="similarity.html#cb194-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38;5;250m6[39m  [4m1[24m996 koszinusz                 0.880</span></span></code></pre></div>
<p>Az √©venk√©nti √°tlagot tartalmaz√≥ adatt√°bl√°nkara ezt k√∂vet≈ëen vonal diagramot illeszt√ºnk.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="similarity.html#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(evenkenti_atlag, <span class="fu">aes</span>(ev, atl_hasonlosag)) <span class="sc">+</span></span>
<span id="cb195-2"><a href="similarity.html#cb195-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">linetype =</span> hasonlosag_tipus)) <span class="sc">+</span></span>
<span id="cb195-3"><a href="similarity.html#cb195-3" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;√Åtlagos Jaccard √©s koszinusz hasonl√≥s√°g&quot;</span>,</span>
<span id="cb195-4"><a href="similarity.html#cb195-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">linetype =</span> <span class="cn">NULL</span>,</span>
<span id="cb195-5"><a href="similarity.html#cb195-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb195-6"><a href="similarity.html#cb195-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb195-7"><a href="similarity.html#cb195-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb195-8"><a href="similarity.html#cb195-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb195-9"><a href="similarity.html#cb195-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb195-10"><a href="similarity.html#cb195-10" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-213"></span>
<p class="caption">
√Åbra 10.4: √âvenk√©nti √°tlagos hasonl√≥s√°g alakul√°sa
</p>
<img src="_main_files/figure-html/unnamed-chunk-213-1.png" alt="√âvenk√©nti √°tlagos hasonl√≥s√°g alakul√°sa" width="90%" />
</div>
<p>Ahhoz, hogy valamivel pontosabb k√©pet kapjunk a Jaccard index √©rt√©k√©nek alakul√°s√°r√≥l, √©rdemes vizualiz√°lni a <code>ggplot2</code> seg√≠ts√©g√©vel. Els≈ëk√©nt √©venk√©nti bont√°sban √°br√°zoljuk a Jaccard index √©rt√©k√©nek alakul√°s√°t. A <code>ggplot</code> mag√°t√≥l csak n√©h√°ny √©rt√©ket rendelne az x tengelyhez feliratk√©nt, amit √°t√°ll√≠thatunk a <code>scale_x_continuous()</code> f√ºgv√©nnyel √©s a <code>breaks</code> param√©terrel tudjukaz adatfeliratok hely√©t specifik√°lni.</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="similarity.html#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tv_tvjav_minta, <span class="fu">aes</span>(ev, jaccard_index)) <span class="sc">+</span></span>
<span id="cb196-2"><a href="similarity.html#cb196-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb196-3"><a href="similarity.html#cb196-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1994</span>, <span class="dv">2018</span>, <span class="at">by =</span> <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb196-4"><a href="similarity.html#cb196-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb196-5"><a href="similarity.html#cb196-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb196-6"><a href="similarity.html#cb196-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Jaccard hasonl√≥s√°g&quot;</span></span>
<span id="cb196-7"><a href="similarity.html#cb196-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-214"></span>
<p class="caption">
√Åbra 10.5: √âvenk√©nti Jaccard hasonl√≥s√°g
</p>
<img src="_main_files/figure-html/unnamed-chunk-214-1.png" alt="√âvenk√©nti Jaccard hasonl√≥s√°g" width="90%" />
</div>
<p>A pontdiagram l√°tv√°nyos, de eset√ºnkben kev√©s √©rdemi inform√°ci√≥ der√ºl ki r√≥la. A m√°sodik √°br√°nkon boxplotokkal fogjuk √°br√°zolni a Jaccard hasonl√≥s√°g alakul√°s√°t.</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="similarity.html#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tv_tvjav_minta, <span class="fu">aes</span>(<span class="fu">as.factor</span>(ev), jaccard_index)) <span class="sc">+</span></span>
<span id="cb197-2"><a href="similarity.html#cb197-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb197-3"><a href="similarity.html#cb197-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb197-4"><a href="similarity.html#cb197-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb197-5"><a href="similarity.html#cb197-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Jaccard hasonl√≥s√°g&quot;</span></span>
<span id="cb197-6"><a href="similarity.html#cb197-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb197-7"><a href="similarity.html#cb197-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb197-8"><a href="similarity.html#cb197-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>),</span>
<span id="cb197-9"><a href="similarity.html#cb197-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb197-10"><a href="similarity.html#cb197-10" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-215"></span>
<p class="caption">
√Åbra 10.6: √âvenk√©nti Jaccard hasonl√≥s√°g, boxplotokkal
</p>
<img src="_main_files/figure-html/unnamed-chunk-215-1.png" alt="√âvenk√©nti Jaccard hasonl√≥s√°g, boxplotokkal" width="90%" />
</div>
<p>Az √°br√°n szembet≈±n≈ë a 2003-as √©v kiugr√≥an alacsony √©rt√©ke, azonban itt √©rdemes figyelembe venni ‚Äì ami a pontdiagramr√≥l is leolvashat√≥ ‚Äì, hogy 2003-ra csup√°n 2 adatpont √°ll rendelkez√©sre. A legalacsonyabb Jaccard hasonl√≥s√°g tal√°n az 1994‚Äì1998-as id≈ëszakra jellemz≈ë, m√≠g a 2014‚Äì2018-as i≈ëszakra szembet≈±n≈ëen magas Jaccard √©rt√©keket l√°tunk az els≈ë √°br√°zolt ciklushoz k√©pest. √ñsszess√©g√©ben neh√©z trendet l√°tni az √°br√°n, de √©rdemes azt is megjegyezni, hogy a negat√≠v ir√°nyba kiugr√≥ adatpontok a 2014‚Äì2018-as ciklusban jelent≈ësen nagyobb ar√°nyban t≈±nnek fel, mint a kor√°bbi korm√°nyzati ciklusok alatt.</p>
<p>V√©gezet√ºl pedig √°br√°zolhatjuk a Jaccard hasonl√≥s√°got a beny√∫jt√≥ szem√©lye alapj√°n is a <code>korm_ell</code> v√°ltoz√≥nk alapj√°n. A v√°ltoz√≥k √©rt√©kei a k√∂vetkez≈ëk a <a href="https://docs.google.com/document/d/11AwjQiRNbMifBaBnbgo2MpWR00-03VEjb63FgPUy6VA/edit#heading=h.cx672ghhctgs">CAP k√≥dk√∂nyve alapj√°n</a>:</p>
<p><em>0 - Ellenz√©ki beny√∫jt√≥</em></p>
<p><em>1 - Korm√°nyp√°rti beny√∫jt√≥</em></p>
<p><em>2 - Korm√°nyp√°rti √©s ellenz√©ki beny√∫jt√≥ k√∂z√∂sen</em></p>
<p><em>3 - Beny√∫jt√≥k legal√°bb k√©t ellenz√©ki p√°rtb√≥l</em></p>
<p><em>4 - Beny√∫jt√≥k legal√°bb k√©t korm√°nyp√°rtb√≥l</em></p>
<p><em>900 - Nem relev√°ns ‚Äì a beny√∫jt√≥ a kabinet tagja</em></p>
<p><em>901 - Nem relev√°ns ‚Äì a beny√∫jt√≥ a bizotts√°g tagja volt</em></p>
<p><em>902 - Nem relev√°ns ‚Äì a beny√∫jt√≥ sem a parlamentnek, sem a kabinetnek, sem a bizotts√°gnak nem tagja</em></p>
<p>Mivel nincs t√∫l sok adatpontunk, √©s ezek t√∂bbs√©ge a 900-as adatpont al√° esik (l√°sd <code>tv_tvjav_minta %&gt;% count(korm_ell)</code>), √©rdemes √∂sszevonni a 0-√°s √©s a 3-as v√°ltoz√≥t, valamint az 1-es √©s a 4-es v√°ltoz√≥t egy-egy √©rt√©kbe, hogy jobban elemezhet≈ëek legyenek az eredm√©nyeink. Ehhez a <code>korm_ell</code> v√°ltoz√≥ √©rt√©kei alapj√°n defini√°lunk egy √∫j <code>korm_ell2</code> v√°ltoz√≥t. Az √∫j v√°ltoz√≥ defini√°l√°s√°t √©s az √©rt√©kad√°sokat a <code>dplyr</code> <code>case_when()</code> f√ºggv√©ny√©vel fogjuk megtenni. A f√ºggv√©nyen bel√ºl a bal oldalra ker√ºl, hogy milyen √©rt√©kek alapj√°n szeretn√©nk az √∫j √©rt√©ket meghat√°rozni, a tilde (~) ut√°n pedig az, hogy mi legyen az √∫jonnan l√©trehozott oszlop √©rt√©ke. Teh√°t a <code>case_when()</code>-en bel√ºl l√©v≈ë els≈ë sor azt fejezi ki, hogy amennyiben a <code>korm_ell</code> egyenl≈ë 0-val, vagy (<code>|</code>) a <code>korm_ell</code> egyenl≈ë 3-mal, legyen a korm_ell2 √©rt√©ke 0.</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="similarity.html#cb198-1" aria-hidden="true" tabindex="-1"></a>tv_tvjav_minta <span class="ot">&lt;-</span> tv_tvjav_minta <span class="sc">%&gt;%</span></span>
<span id="cb198-2"><a href="similarity.html#cb198-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb198-3"><a href="similarity.html#cb198-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">korm_ell2 =</span> <span class="fu">case_when</span>(korm_ell <span class="sc">==</span> <span class="dv">0</span> <span class="sc">|</span> korm_ell <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;Ellenz√©ki k√©pvisel≈ë&quot;</span>,</span>
<span id="cb198-4"><a href="similarity.html#cb198-4" aria-hidden="true" tabindex="-1"></a>                          korm_ell <span class="sc">==</span> <span class="dv">1</span> <span class="sc">|</span> korm_ell <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">&quot;Korm√°nyp√°rti k√©pvisel≈ë&quot;</span>,</span>
<span id="cb198-5"><a href="similarity.html#cb198-5" aria-hidden="true" tabindex="-1"></a>                          korm_ell <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;Korm√°nyzati √©s ellenz√©ki k√©pvisel≈ëk k√∂z√∂sen&quot;</span>,</span>
<span id="cb198-6"><a href="similarity.html#cb198-6" aria-hidden="true" tabindex="-1"></a>                          korm_ell <span class="sc">==</span> <span class="dv">900</span> <span class="sc">~</span> <span class="st">&quot;Kabinet tagja&quot;</span>,</span>
<span id="cb198-7"><a href="similarity.html#cb198-7" aria-hidden="true" tabindex="-1"></a>                          korm_ell <span class="sc">==</span> <span class="dv">901</span> <span class="sc">~</span> <span class="st">&quot;Parlamenti bizotts√°g&quot;</span>,</span>
<span id="cb198-8"><a href="similarity.html#cb198-8" aria-hidden="true" tabindex="-1"></a>                          korm_ell <span class="sc">==</span> <span class="dv">902</span> <span class="sc">~</span> <span class="st">&quot;Egyik sem&quot;</span>),</span>
<span id="cb198-9"><a href="similarity.html#cb198-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">korm_ell2 =</span> <span class="fu">as.factor</span>(korm_ell2)</span>
<span id="cb198-10"><a href="similarity.html#cb198-10" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Miut√°n l√©trehoztuk az √∫j oszlopot, l√©trehozhatjuk a vizualiz√°ci√≥t is annak alapj√°n. Itt egy speci√°lis pontdiagramot fogunk haszn√°lni: <code>geom_jitter()</code>. Ez annyiban k√ºl√∂nb√∂zik a pontdiagramt√≥l, hogy kicsit sz√≥rtabban √°br√°zolja a diszkr√©t √©rt√©kekre (√©vekre) es≈ë pontokat, hogy az egy helyen s≈±r≈±s√∂d≈ë √©rt√©kek ne takarj√°k ki egym√°st. A <code>facet_wrap</code> seg√≠ts√©g√©vel tudjuk kateg√≥ri√°nk√©nt √°br√°zolni az √©venk√©nti hasonl√≥s√°got.</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="similarity.html#cb199-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-2"><a href="similarity.html#cb199-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-3"><a href="similarity.html#cb199-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tv_tvjav_minta, <span class="fu">aes</span>(ev, jaccard_index)) <span class="sc">+</span> </span>
<span id="cb199-4"><a href="similarity.html#cb199-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb199-5"><a href="similarity.html#cb199-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1994</span>, <span class="dv">2018</span>, <span class="at">by =</span> <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb199-6"><a href="similarity.html#cb199-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> korm_ell2, <span class="at">ncol =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb199-7"><a href="similarity.html#cb199-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb199-8"><a href="similarity.html#cb199-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Jaccard hasonl√≥s√°g&quot;</span>,</span>
<span id="cb199-9"><a href="similarity.html#cb199-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span></span>
<span id="cb199-10"><a href="similarity.html#cb199-10" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-217"></span>
<p class="caption">
√Åbra 10.7: Beterjeszto szerinti Jaccard hasonl√≥s√°g
</p>
<img src="_main_files/figure-html/unnamed-chunk-217-1.png" alt="Beterjeszto szerinti Jaccard hasonl√≥s√°g" width="90%" />
</div>
<p>Mivel a t√∂rv√©nyjavaslatok t√∫lnyom√≥ t√∂bbs√©g√©t a kabinet tagjai ny√∫jtj√°k be, nem igaz√°n tudunk √©rdemi k√∂vetkeztet√©seket levonni arra vonatkoz√≥an, hogy az ellenz√©ki vagy a korm√°nyp√°rti k√©pvisel≈ëk √°ltal beny√∫jtott javaslatok m√≥dosulnak-e t√∂bbet a vita folyam√°n. Amennyiben ezzel a k√©rd√©ssel alaposabban is szeretn√©nk foglalkozni, √©rdemes csak azokat a sorokat kiv√°lasztani a hasonl√≥s√°g-sz√°m√≠t√°shoz, amelyekben a sz√°munkra relev√°ns megfigyel√©sek szerepelnek. Ha azonban ezt az elj√°r√°st v√°lasztjuk, mindenk√©ppen fontos odafigyelni arra is, hogy az elemz√©sben haszn√°land√≥ megfigyel√©sek kiv√°logat√°sa nehogy szelekt√≠v legyen valamely nem megfigyelt v√°ltoz√≥ szempontj√°b√≥l, ezzel befoly√°solva a kutat√°s eredm√©nyeit.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="44">
<li id="fn44"><p><a href="https://quanteda.io/reference/textstat_simil.html">https://quanteda.io/reference/textstat_simil.html</a><a href="similarity.html#fnref44" class="footnote-back">‚Ü©Ô∏é</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="scaling.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="nlp-ch.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
